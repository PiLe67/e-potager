var ME=Object.defineProperty,RE=Object.defineProperties;var xE=Object.getOwnPropertyDescriptors;var pp=Object.getOwnPropertySymbols,OE=Object.getPrototypeOf,PE=Object.prototype.hasOwnProperty,kE=Object.prototype.propertyIsEnumerable,LE=Reflect.get;var gp=(e,t,n)=>t in e?ME(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||={})PE.call(t,n)&&gp(e,n,t[n]);if(pp)for(var n of pp(t))kE.call(t,n)&&gp(e,n,t[n]);return e},Y=(e,t)=>RE(e,xE(t));var pn=(e,t,n)=>LE(OE(e),n,t);var p=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var Uc=null;var jc=1,mp=Symbol("SIGNAL");function B(e){let t=Uc;return Uc=e,t}function vp(){return Uc}var Vc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function FE(e){if(!(zc(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===jc)){if(!e.producerMustRecompute(e)&&!Bc(e)){e.dirty=!1,e.lastCleanEpoch=jc;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=jc}}function $c(e){return e&&(e.nextProducerIndex=0),B(e)}function yp(e,t){if(B(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(zc(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Wc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Bc(e){Gc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(FE(n),r!==n.version))return!0}return!1}function Hc(e){if(Gc(e),zc(e))for(let t=0;t<e.producerNode.length;t++)Wc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Wc(e,t){if(jE(e),e.liveConsumerNode.length===1&&UE(e))for(let r=0;r<e.producerNode.length;r++)Wc(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Gc(i),i.producerIndexOfThis[r]=t}}function zc(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Gc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function jE(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function UE(e){return e.producerNode!==void 0}function VE(){throw new Error}var $E=VE;function _p(e){$E=e}function T(e){return typeof e=="function"}function Jn(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Jo=Jn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function gn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var J=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(T(r))try{r()}catch(o){t=o instanceof Jo?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ip(o)}catch(s){t=t??[],s instanceof Jo?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Jo(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Ip(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&gn(n,t)}remove(t){let{_finalizers:n}=this;n&&gn(n,t),t instanceof e&&t._removeParent(this)}};J.EMPTY=(()=>{let e=new J;return e.closed=!0,e})();var qc=J.EMPTY;function Xo(e){return e instanceof J||e&&"closed"in e&&T(e.remove)&&T(e.add)&&T(e.unsubscribe)}function Ip(e){T(e)?e():e.unsubscribe()}var Ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xn={setTimeout(e,t,...n){let{delegate:r}=Xn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Xn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function es(e){Xn.setTimeout(()=>{let{onUnhandledError:t}=Ge;if(t)t(e);else throw e})}function yi(){}var wp=Yc("C",void 0,void 0);function Ep(e){return Yc("E",void 0,e)}function Cp(e){return Yc("N",e,void 0)}function Yc(e,t,n){return{kind:e,value:t,error:n}}var mn=null;function er(e){if(Ge.useDeprecatedSynchronousErrorHandling){let t=!mn;if(t&&(mn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=mn;if(mn=null,n)throw r}}else e()}function Dp(e){Ge.useDeprecatedSynchronousErrorHandling&&mn&&(mn.errorThrown=!0,mn.error=e)}var vn=class extends J{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Xo(t)&&t.add(this)):this.destination=WE}static create(t,n,r){return new tr(t,n,r)}next(t){this.isStopped?Zc(Cp(t),this):this._next(t)}error(t){this.isStopped?Zc(Ep(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Zc(wp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BE=Function.prototype.bind;function Kc(e,t){return BE.call(e,t)}var Qc=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ts(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ts(r)}else ts(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ts(n)}}},tr=class extends vn{constructor(t,n,r){super();let i;if(T(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ge.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Kc(t.next,o),error:t.error&&Kc(t.error,o),complete:t.complete&&Kc(t.complete,o)}):i=t}this.destination=new Qc(i)}};function ts(e){Ge.useDeprecatedSynchronousErrorHandling?Dp(e):es(e)}function HE(e){throw e}function Zc(e,t){let{onStoppedNotification:n}=Ge;n&&Xn.setTimeout(()=>n(e,t))}var WE={closed:!0,next:yi,error:HE,complete:yi};var nr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Te(e){return e}function Jc(...e){return Xc(e)}function Xc(e){return e.length===0?Te:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var $=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=GE(n)?n:new tr(n,r,i);return er(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=bp(r),new r((i,o)=>{let s=new tr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[nr](){return this}pipe(...n){return Xc(n)(this)}toPromise(n){return n=bp(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function bp(e){var t;return(t=e??Ge.Promise)!==null&&t!==void 0?t:Promise}function zE(e){return e&&T(e.next)&&T(e.error)&&T(e.complete)}function GE(e){return e&&e instanceof vn||zE(e)&&Xo(e)}function el(e){return T(e?.lift)}function P(e){return t=>{if(el(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function k(e,t,n,r,i){return new tl(e,t,n,r,i)}var tl=class extends vn{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function rr(){return P((e,t)=>{let n=null;e._refCount++;let r=k(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var ir=class extends ${constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,el(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new J;let n=this.getSubject();t.add(this.source.subscribe(k(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=J.EMPTY)}return t}refCount(){return rr()(this)}};var Sp=Jn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class e extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ns(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Sp}next(n){er(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){er(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){er(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qc:(this.currentObservers=null,o.push(n),new J(()=>{this.currentObservers=null,gn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return e.create=(t,n)=>new ns(t,n),e})(),ns=class extends me{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:qc}};var ue=class extends me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var nl={now(){return(nl.delegate||Date).now()},delegate:void 0};var rs=class extends J{constructor(t,n){super()}schedule(t,n=0){return this}};var _i={setInterval(e,t,...n){let{delegate:r}=_i;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=_i;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var or=class extends rs{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return _i.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&_i.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,gn(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var sr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};sr.now=nl.now;var ar=class extends sr{constructor(t,n=sr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var rl=new ar(or);var is=class extends or{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var os=class extends ar{};var il=new os(is);var Ae=new $(e=>e.complete());function Tp(e){return e&&T(e.schedule)}function Ap(e){return e[e.length-1]}function Np(e){return T(Ap(e))?e.pop():void 0}function $t(e){return Tp(Ap(e))?e.pop():void 0}function ol(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Rp(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Mp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yn(e){return this instanceof yn?(this.v=e,this):new yn(e)}function xp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(_){return new Promise(function(A,U){o.push([h,_,A,U])>1||c(h,_)})},g&&(i[h]=g(i[h])))}function c(h,g){try{l(r[h](g))}catch(_){f(o[0][3],_)}}function l(h){h.value instanceof yn?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Op(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Mp=="function"?Mp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ss=e=>e&&typeof e.length=="number"&&typeof e!="function";function as(e){return T(e?.then)}function cs(e){return T(e[nr])}function ls(e){return Symbol.asyncIterator&&T(e?.[Symbol.asyncIterator])}function us(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ds=qE();function fs(e){return T(e?.[ds])}function hs(e){return xp(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield yn(n.read());if(i)return yield yn(void 0);yield yield yn(r)}}finally{n.releaseLock()}})}function ps(e){return T(e?.getReader)}function oe(e){if(e instanceof $)return e;if(e!=null){if(cs(e))return YE(e);if(ss(e))return KE(e);if(as(e))return ZE(e);if(ls(e))return Pp(e);if(fs(e))return QE(e);if(ps(e))return JE(e)}throw us(e)}function YE(e){return new $(t=>{let n=e[nr]();if(T(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KE(e){return new $(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function ZE(e){return new $(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,es)})}function QE(e){return new $(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Pp(e){return new $(t=>{XE(e,t).catch(n=>t.error(n))})}function JE(e){return Pp(hs(e))}function XE(e,t){var n,r,i,o;return Rp(this,void 0,void 0,function*(){try{for(n=Op(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ce(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Bt(e,t=0){return P((n,r)=>{n.subscribe(k(r,i=>Ce(r,e,()=>r.next(i),t),()=>Ce(r,e,()=>r.complete(),t),i=>Ce(r,e,()=>r.error(i),t)))})}function Ht(e,t=0){return P((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function kp(e,t){return oe(e).pipe(Ht(t),Bt(t))}function Lp(e,t){return oe(e).pipe(Ht(t),Bt(t))}function Fp(e,t){return new $(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function jp(e,t){return new $(n=>{let r;return Ce(n,t,()=>{r=e[ds](),Ce(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}function gs(e,t){if(!e)throw new Error("Iterable cannot be null");return new $(n=>{Ce(n,t,()=>{let r=e[Symbol.asyncIterator]();Ce(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Up(e,t){return gs(hs(e),t)}function Vp(e,t){if(e!=null){if(cs(e))return kp(e,t);if(ss(e))return Fp(e,t);if(as(e))return Lp(e,t);if(ls(e))return gs(e,t);if(fs(e))return jp(e,t);if(ps(e))return Up(e,t)}throw us(e)}function X(e,t){return t?Vp(e,t):oe(e)}function D(...e){let t=$t(e);return X(e,t)}function cr(e,t){let n=T(e)?e:()=>e,r=i=>i.error(n());return new $(t?i=>t.schedule(r,0,i):r)}function sl(e){return!!e&&(e instanceof $||T(e.lift)&&T(e.subscribe))}var It=Jn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function x(e,t){return P((n,r)=>{let i=0;n.subscribe(k(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:eC}=Array;function tC(e,t){return eC(t)?e(...t):e(t)}function $p(e){return x(t=>tC(e,t))}var{isArray:nC}=Array,{getPrototypeOf:rC,prototype:iC,keys:oC}=Object;function Bp(e){if(e.length===1){let t=e[0];if(nC(t))return{args:t,keys:null};if(sC(t)){let n=oC(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function sC(e){return e&&typeof e=="object"&&rC(e)===iC}function Hp(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ii(...e){let t=$t(e),n=Np(e),{args:r,keys:i}=Bp(e);if(r.length===0)return X([],t);let o=new $(aC(r,t,i?s=>Hp(i,s):Te));return n?o.pipe($p(n)):o}function aC(e,t,n=Te){return r=>{Wp(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Wp(t,()=>{let l=X(e[c],t),u=!1;l.subscribe(k(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Wp(e,t,n){e?Ce(n,e,t):t()}function zp(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=_=>l<r?g(_):c.push(_),g=_=>{o&&t.next(_),l++;let A=!1;oe(n(_,u++)).subscribe(k(t,U=>{i?.(U),o?h(U):t.next(U)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<r;){let U=c.shift();s?Ce(t,s,()=>g(U)):g(U)}f()}catch(U){t.error(U)}}))};return e.subscribe(k(t,h,()=>{d=!0,f()})),()=>{a?.()}}function ee(e,t,n=1/0){return T(t)?ee((r,i)=>x((o,s)=>t(r,o,i,s))(oe(e(r,i))),n):(typeof t=="number"&&(n=t),P((r,i)=>zp(r,i,e,n)))}function lr(e=1/0){return ee(Te,e)}function Gp(){return lr(1)}function ur(...e){return Gp()(X(e,$t(e)))}function ms(e){return new $(t=>{oe(e()).subscribe(t)})}function ke(e,t){return P((n,r)=>{let i=0;n.subscribe(k(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Wt(e){return P((t,n)=>{let r=null,i=!1,o;r=t.subscribe(k(n,void 0,void 0,s=>{o=oe(e(s,Wt(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function qp(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(k(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function _n(e,t){return T(t)?ee(e,t,1):ee(e,1)}function zt(e){return P((t,n)=>{let r=!1;t.subscribe(k(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function wt(e){return e<=0?()=>Ae:P((t,n)=>{let r=0;t.subscribe(k(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function al(e){return x(()=>e)}function vs(e=cC){return P((t,n)=>{let r=!1;t.subscribe(k(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function cC(){return new It}function wi(e){return P((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function it(e,t){let n=arguments.length>=2;return r=>r.pipe(e?ke((i,o)=>e(i,o,r)):Te,wt(1),n?zt(t):vs(()=>new It))}function dr(e){return e<=0?()=>Ae:P((t,n)=>{let r=[];t.subscribe(k(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function cl(e,t){let n=arguments.length>=2;return r=>r.pipe(e?ke((i,o)=>e(i,o,r)):Te,dr(1),n?zt(t):vs(()=>new It))}function ll(e,t){return P(qp(e,t,arguments.length>=2,!0))}function ul(...e){let t=$t(e);return P((n,r)=>{(t?ur(e,n,t):ur(e,n)).subscribe(r)})}function Le(e,t){return P((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(k(r,c=>{i?.unsubscribe();let l=0,u=o++;oe(e(c,u)).subscribe(i=k(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function dl(e){return P((t,n)=>{oe(e).subscribe(k(n,()=>n.complete(),yi)),!n.closed&&t.subscribe(n)})}function ne(e,t,n){let r=T(e)||t||n?{next:e,error:t,complete:n}:e;return r?P((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(k(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Te}var xg="https://g.co/ng/security#xss",E=class extends Error{constructor(t,n){super(iu(t,n)),this.code=t}};function iu(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function ki(e){return{toString:e}.toString()}var ys="__parameters__";function lC(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function Og(e,t,n){return ki(()=>{let r=lC(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(ys)?c[ys]:Object.defineProperty(c,ys,{value:[]})[ys];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var bt=globalThis;function G(e){for(let t in e)if(e[t]===G)return t;throw Error("Could not find renamed property on target object.")}function Ne(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Ne).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Yp(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var uC=G({__forward_ref__:G});function Pg(e){return e.__forward_ref__=Pg,e.toString=function(){return Ne(this())},e}function je(e){return kg(e)?e():e}function kg(e){return typeof e=="function"&&e.hasOwnProperty(uC)&&e.__forward_ref__===Pg}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ze(e){return{providers:e.providers||[],imports:e.imports||[]}}function Zs(e){return Kp(e,Fg)||Kp(e,jg)}function Lg(e){return Zs(e)!==null}function Kp(e,t){return e.hasOwnProperty(t)?e[t]:null}function dC(e){let t=e&&(e[Fg]||e[jg]);return t||null}function Zp(e){return e&&(e.hasOwnProperty(Qp)||e.hasOwnProperty(fC))?e[Qp]:null}var Fg=G({\u0275prov:G}),Qp=G({\u0275inj:G}),jg=G({ngInjectableDef:G}),fC=G({ngInjectorDef:G}),I=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=w({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ug(e){return e&&!!e.\u0275providers}var hC=G({\u0275cmp:G}),pC=G({\u0275dir:G}),gC=G({\u0275pipe:G}),mC=G({\u0275mod:G}),bs=G({\u0275fac:G}),Ci=G({__NG_ELEMENT_ID__:G}),Jp=G({__NG_ENV_ID__:G});function ou(e){return typeof e=="string"?e:e==null?"":String(e)}function vC(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ou(e)}function yC(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new E(-200,e)}function su(e,t){throw new E(-201,!1)}var M=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(M||{}),wl;function Vg(){return wl}function Fe(e){let t=wl;return wl=e,t}function $g(e,t,n){let r=Zs(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&M.Optional)return null;if(t!==void 0)return t;su(e,"Injector")}var _C={},bi=_C,El="__NG_DI_FLAG__",Ss="ngTempTokenPath",IC="ngTokenPath",wC=/\n/gm,EC="\u0275",Xp="__source",mr;function CC(){return mr}function Gt(e){let t=mr;return mr=e,t}function DC(e,t=M.Default){if(mr===void 0)throw new E(-203,!1);return mr===null?$g(e,void 0,t):mr.get(e,t&M.Optional?null:void 0,t)}function C(e,t=M.Default){return(Vg()||DC)(je(e),t)}function m(e,t=M.Default){return C(e,Qs(t))}function Qs(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Cl(e){let t=[];for(let n=0;n<e.length;n++){let r=je(e[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let i,o=M.Default;for(let s=0;s<r.length;s++){let a=r[s],c=bC(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(C(i,o))}else t.push(C(r))}return t}function Bg(e,t){return e[El]=t,e.prototype[El]=t,e}function bC(e){return e[El]}function SC(e,t,n,r){let i=e[Ss];throw t[Xp]&&i.unshift(t[Xp]),e.message=TC(`
`+e.message,i,n,r),e[IC]=i,e[Ss]=null,e}function TC(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==EC?e.slice(2):e;let i=Ne(t);if(Array.isArray(t))i=t.map(Ne).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ne(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(wC,`
  `)}`}var Ie=Bg(Og("Optional"),8);var Hg=Bg(Og("SkipSelf"),4);function yr(e,t){let n=e.hasOwnProperty(bs);return n?e[bs]:null}function au(e,t){e.forEach(n=>Array.isArray(n)?au(n,t):t(n))}function Wg(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ts(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Si={},ot=[],_r=new I(""),zg=new I("",-1),Gg=new I(""),As=class{get(t,n=bi){if(n===bi){let r=new Error(`NullInjectorError: No provider for ${Ne(t)}!`);throw r.name="NullInjectorError",r}return n}},qg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(qg||{}),at=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(at||{}),Kt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Kt||{});function AC(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Dl(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];MC(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function NC(e){return e===3||e===4||e===6}function MC(e){return e.charCodeAt(0)===64}function cu(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?eg(e,n,i,null,t[++r]):eg(e,n,i,null,null))}}return e}function eg(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Yg="ng-template";function RC(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&AC(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(lu(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function lu(e){return e.type===4&&e.value!==Yg}function xC(e,t,n){let r=e.type===4&&!n?Yg:e.value;return t===r}function OC(e,t,n){let r=4,i=e.attrs,o=i!==null?LC(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!qe(r)&&!qe(c))return!1;if(s&&qe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!xC(e,c,n)||c===""&&t.length===1){if(qe(r))return!1;s=!0}}else if(r&8){if(i===null||!RC(e,i,c,n)){if(qe(r))return!1;s=!0}}else{let l=t[++a],u=PC(c,i,lu(e),n);if(u===-1){if(qe(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(qe(r))return!1;s=!0}}}}return qe(r)||s}function qe(e){return(e&1)===0}function PC(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return FC(t,e)}function kC(e,t,n=!1){for(let r=0;r<t.length;r++)if(OC(e,t[r],n))return!0;return!1}function LC(e){for(let t=0;t<e.length;t++){let n=e[t];if(NC(n))return t}return e.length}function FC(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function tg(e,t){return e?":not("+t.trim()+")":t}function jC(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!qe(s)&&(t+=tg(o,i),i=""),r=s,o=o||!qe(r);n++}return i!==""&&(t+=tg(o,i)),t}function UC(e){return e.map(jC).join(",")}function VC(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!qe(i))break;i=o}r++}return{attrs:t,classes:n}}function Js(e){return ki(()=>{let t=Xg(e),n=Y(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===qg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||at.Emulated,styles:e.styles||ot,_:null,schemas:e.schemas||null,tView:null,id:""});em(n);let r=e.dependencies;return n.directiveDefs=rg(r,!1),n.pipeDefs=rg(r,!0),n.id=HC(n),n})}function $C(e){return Zt(e)||Kg(e)}function BC(e){return e!==null}function Qe(e){return ki(()=>({type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ng(e,t){if(e==null)return Si;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Kt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Kt.None?[r,a]:r,t[o]=s):n[o]=r}return n}function uu(e){return ki(()=>{let t=Xg(e);return em(t),t})}function Zt(e){return e[hC]||null}function Kg(e){return e[pC]||null}function Zg(e){return e[gC]||null}function Qg(e){let t=Zt(e)||Kg(e)||Zg(e);return t!==null?t.standalone:!1}function Jg(e,t){let n=e[mC]||null;if(!n&&t===!0)throw new Error(`Type ${Ne(e)} does not have '\u0275mod' property.`);return n}function Xg(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Si,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ng(e.inputs,t),outputs:ng(e.outputs),debugInfo:null}}function em(e){e.features?.forEach(t=>t(e))}function rg(e,t){if(!e)return null;let n=t?Zg:$C;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(BC)}function HC(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Xt(e){return{\u0275providers:e}}function WC(...e){return{\u0275providers:tm(!0,e),\u0275fromNgModule:!0}}function tm(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return au(t,s=>{let a=s;bl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nm(i,o),n}function nm(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];du(i,o=>{t(o,r)})}}function bl(e,t,n,r){if(e=je(e),!e)return!1;let i=null,o=Zp(e),s=!o&&Zt(e);if(!o&&!s){let c=e.ngModule;if(o=Zp(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)bl(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{au(o.imports,u=>{bl(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&nm(l,t)}if(!a){let l=yr(i)||(()=>new i);t({provide:i,useFactory:l,deps:ot},i),t({provide:Gg,useValue:i,multi:!0},i),t({provide:_r,useValue:()=>C(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;du(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function du(e,t){for(let n of e)Ug(n)&&(n=n.\u0275providers),Array.isArray(n)?du(n,t):t(n)}var zC=G({provide:String,useValue:G});function rm(e){return e!==null&&typeof e=="object"&&zC in e}function GC(e){return!!(e&&e.useExisting)}function qC(e){return!!(e&&e.useFactory)}function Sl(e){return typeof e=="function"}var Xs=new I(""),ws={},YC={},fl;function fu(){return fl===void 0&&(fl=new As),fl}var Me=class{},Ti=class extends Me{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Al(t,s=>this.processProvider(s)),this.records.set(zg,fr(void 0,this)),i.has("environment")&&this.records.set(Me,fr(void 0,this));let o=this.records.get(Xs);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gg,ot,M.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=B(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Gt(this),r=Fe(void 0),i;try{return t()}finally{Gt(n),Fe(r)}}get(t,n=bi,r=M.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Jp))return t[Jp](this);r=Qs(r);let i,o=Gt(this),s=Fe(void 0);try{if(!(r&M.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=eD(t)&&Zs(t);l&&this.injectableDefInScope(l)?c=fr(Tl(t),ws):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&M.Self?fu():this.parent;return n=r&M.Optional&&n===bi?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ss]=a[Ss]||[]).unshift(Ne(t)),o)throw a;return SC(a,t,"R3InjectorError",this.source)}else throw a}finally{Fe(s),Gt(o)}}resolveInjectorInitializers(){let t=B(null),n=Gt(this),r=Fe(void 0),i;try{let o=this.get(_r,ot,M.Self);for(let s of o)s()}finally{Gt(n),Fe(r),B(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Ne(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(t){t=je(t);let n=Sl(t)?t:je(t&&t.provide),r=ZC(t);if(!Sl(t)&&t.multi===!0){let i=this.records.get(n);i||(i=fr(void 0,ws,!0),i.factory=()=>Cl(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=B(null);try{return n.value===ws&&(n.value=YC,n.value=n.factory()),typeof n.value=="object"&&n.value&&XC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{B(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=je(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Tl(e){let t=Zs(e),n=t!==null?t.factory:yr(e);if(n!==null)return n;if(e instanceof I)throw new E(204,!1);if(e instanceof Function)return KC(e);throw new E(204,!1)}function KC(e){if(e.length>0)throw new E(204,!1);let n=dC(e);return n!==null?()=>n.factory(e):()=>new e}function ZC(e){if(rm(e))return fr(void 0,e.useValue);{let t=QC(e);return fr(t,ws)}}function QC(e,t,n){let r;if(Sl(e)){let i=je(e);return yr(i)||Tl(i)}else if(rm(e))r=()=>je(e.useValue);else if(qC(e))r=()=>e.useFactory(...Cl(e.deps||[]));else if(GC(e))r=()=>C(je(e.useExisting));else{let i=je(e&&(e.useClass||e.provide));if(JC(e))r=()=>new i(...Cl(e.deps));else return yr(i)||Tl(i)}return r}function fr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function JC(e){return!!e.deps}function XC(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function eD(e){return typeof e=="function"||typeof e=="object"&&e instanceof I}function Al(e,t){for(let n of e)Array.isArray(n)?Al(n,t):n&&Ug(n)?Al(n.\u0275providers,t):t(n)}function lt(e,t){e instanceof Ti&&e.assertNotDestroyed();let n,r=Gt(e),i=Fe(void 0);try{return t()}finally{Gt(r),Fe(i)}}function im(){return Vg()!==void 0||CC()!=null}function tD(e){if(!im())throw new E(-203,!1)}function nD(e){let t=bt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function rD(e){return typeof e=="function"}var St=0,R=1,b=2,_e=3,Ye=4,Je=5,Ai=6,ig=7,Ue=8,Ir=9,ct=10,Re=11,Ni=12,og=13,Li=14,Ke=15,wr=16,hr=17,Er=18,ea=19,om=20,Yt=21,hl=22,Ve=23,Et=25,sm=1;var En=7,Ns=8,Ms=9,ye=10,Rs=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Rs||{});function In(e){return Array.isArray(e)&&typeof e[sm]=="object"}function Tt(e){return Array.isArray(e)&&e[sm]===!0}function am(e){return(e.flags&4)!==0}function ta(e){return e.componentOffset>-1}function cm(e){return(e.flags&1)===1}function Fi(e){return!!e.template}function Nl(e){return(e[b]&512)!==0}var Ml=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lm(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function na(){return um}function um(e){return e.type.prototype.ngOnChanges&&(e.setInput=oD),iD}na.ngInherit=!0;function iD(){let e=fm(this),t=e?.current;if(t){let n=e.previous;if(n===Si)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function oD(e,t,n,r,i){let o=this.declaredInputs[r],s=fm(e)||sD(e,{previous:Si,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ml(l&&l.currentValue,n,c===Si),lm(e,t,i,n)}var dm="__ngSimpleChanges__";function fm(e){return e[dm]||null}function sD(e,t){return e[dm]=t}var sg=null;var qt=function(e,t,n){sg?.(e,t,n)},hm="svg",aD="math";function Ct(e){for(;Array.isArray(e);)e=e[St];return e}function cD(e,t){return Ct(t[e])}function ut(e,t){return Ct(t[e.index])}function hu(e,t){return e.data[t]}function Nr(e,t){let n=t[e];return In(n)?n:n[St]}function pu(e){return(e[b]&128)===128}function lD(e){return Tt(e[_e])}function Mi(e,t){return t==null?null:e[t]}function pm(e){e[hr]=0}function gm(e){e[b]&1024||(e[b]|=1024,pu(e)&&ia(e))}function ra(e){return!!(e[b]&9216||e[Ve]?.dirty)}function Rl(e){e[ct].changeDetectionScheduler?.notify(8),e[b]&64&&(e[b]|=1024),ra(e)&&ia(e)}function ia(e){e[ct].changeDetectionScheduler?.notify(0);let t=Cn(e);for(;t!==null&&!(t[b]&8192||(t[b]|=8192,!pu(t)));)t=Cn(t)}function mm(e,t){if((e[b]&256)===256)throw new E(911,!1);e[Yt]===null&&(e[Yt]=[]),e[Yt].push(t)}function uD(e,t){if(e[Yt]===null)return;let n=e[Yt].indexOf(t);n!==-1&&e[Yt].splice(n,1)}function Cn(e){let t=e[_e];return Tt(t)?t[_e]:t}var V={lFrame:Sm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var vm=!1;function dD(){return V.lFrame.elementDepthCount}function fD(){V.lFrame.elementDepthCount++}function hD(){V.lFrame.elementDepthCount--}function ym(){return V.bindingsEnabled}function pD(){return V.skipHydrationRootTNode!==null}function gD(e){return V.skipHydrationRootTNode===e}function mD(){V.skipHydrationRootTNode=null}function te(){return V.lFrame.lView}function Mr(){return V.lFrame.tView}function At(){let e=_m();for(;e!==null&&e.type===64;)e=e.parent;return e}function _m(){return V.lFrame.currentTNode}function vD(){let e=V.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ji(e,t){let n=V.lFrame;n.currentTNode=e,n.isParent=t}function Im(){return V.lFrame.isParent}function yD(){V.lFrame.isParent=!1}function wm(){return vm}function ag(e){vm=e}function Em(){let e=V.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function _D(e){return V.lFrame.bindingIndex=e}function gu(){return V.lFrame.bindingIndex++}function ID(){return V.lFrame.inI18n}function wD(e,t){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=e,xl(t)}function ED(){return V.lFrame.currentDirectiveIndex}function xl(e){V.lFrame.currentDirectiveIndex=e}function Cm(e){V.lFrame.currentQueryIndex=e}function CD(e){let t=e[R];return t.type===2?t.declTNode:t.type===1?e[Je]:null}function Dm(e,t,n){if(n&M.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&M.Host);)if(i=CD(o),i===null||(o=o[Li],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=V.lFrame=bm();return r.currentTNode=t,r.lView=e,!0}function mu(e){let t=bm(),n=e[R];V.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bm(){let e=V.lFrame,t=e===null?null:e.child;return t===null?Sm(e):t}function Sm(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Tm(){let e=V.lFrame;return V.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Am=Tm;function vu(){let e=Tm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function oa(){return V.lFrame.selectedIndex}function Dn(e){V.lFrame.selectedIndex=e}function DD(){let e=V.lFrame;return hu(e.tView,e.selectedIndex)}function Rr(){V.lFrame.currentNamespace=hm}function Ui(){bD()}function bD(){V.lFrame.currentNamespace=null}function SD(){return V.lFrame.currentNamespace}var Nm=!0;function yu(){return Nm}function _u(e){Nm=e}function TD(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=um(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Iu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Es(e,t,n){Mm(e,t,3,n)}function Cs(e,t,n,r){(e[b]&3)===n&&Mm(e,t,n,r)}function pl(e,t){let n=e[b];(n&3)===t&&(n&=16383,n+=1,e[b]=n)}function Mm(e,t,n,r){let i=r!==void 0?e[hr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[hr]+=65536),(a<o||o==-1)&&(AD(e,n,t,c),e[hr]=(e[hr]&4294901760)+c+2),c++}function cg(e,t){qt(4,e,t);let n=B(null);try{t.call(e)}finally{B(n),qt(5,e,t)}}function AD(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[b]>>14<e[hr]>>16&&(e[b]&3)===t&&(e[b]+=16384,cg(a,o)):cg(a,o)}var vr=-1,Ri=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ND(e){return e instanceof Ri}function MD(e){return(e.flags&8)!==0}function RD(e){return(e.flags&16)!==0}var gl={},Ol=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Qs(r);let i=this.injector.get(t,gl,r);return i!==gl||n===gl?i:this.parentInjector.get(t,n,r)}};function Rm(e){return e!==vr}function xs(e){return e&32767}function xD(e){return e>>16}function Os(e,t){let n=xD(e),r=t;for(;n>0;)r=r[Li],n--;return r}var Pl=!0;function lg(e){let t=Pl;return Pl=e,t}var OD=256,xm=OD-1,Om=5,PD=0,st={};function kD(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ci)&&(r=n[Ci]),r==null&&(r=n[Ci]=PD++);let i=r&xm,o=1<<i;t.data[e+(i>>Om)]|=o}function Pm(e,t){let n=km(e,t);if(n!==-1)return n;let r=t[R];r.firstCreatePass&&(e.injectorIndex=t.length,ml(r.data,e),ml(t,null),ml(r.blueprint,null));let i=wu(e,t),o=e.injectorIndex;if(Rm(i)){let s=xs(i),a=Os(i,t),c=a[R].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function ml(e,t){e.push(0,0,0,0,0,0,0,0,t)}function km(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function wu(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Vm(i),r===null)return vr;if(n++,i=i[Li],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vr}function LD(e,t,n){kD(e,t,n)}function Lm(e,t,n){if(n&M.Optional||e!==void 0)return e;su(t,"NodeInjector")}function Fm(e,t,n,r){if(n&M.Optional&&r===void 0&&(r=null),!(n&(M.Self|M.Host))){let i=e[Ir],o=Fe(void 0);try{return i?i.get(t,r,n&M.Optional):$g(t,r,n&M.Optional)}finally{Fe(o)}}return Lm(r,t,n)}function jm(e,t,n,r=M.Default,i){if(e!==null){if(t[b]&2048&&!(r&M.Self)){let s=$D(e,t,n,r,st);if(s!==st)return s}let o=Um(e,t,n,r,st);if(o!==st)return o}return Fm(t,n,r,i)}function Um(e,t,n,r,i){let o=UD(n);if(typeof o=="function"){if(!Dm(t,e,r))return r&M.Host?Lm(i,n,r):Fm(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&M.Optional))su(n);else return s}finally{Am()}}else if(typeof o=="number"){let s=null,a=km(e,t),c=vr,l=r&M.Host?t[Ke][Je]:null;for((a===-1||r&M.SkipSelf)&&(c=a===-1?wu(e,t):t[a+8],c===vr||!dg(r,!1)?a=-1:(s=t[R],a=xs(c),t=Os(c,t)));a!==-1;){let u=t[R];if(ug(o,a,u.data)){let d=FD(a,t,n,s,r,l);if(d!==st)return d}c=t[a+8],c!==vr&&dg(r,t[R].data[a+8]===l)&&ug(o,a,t)?(s=u,a=xs(c),t=Os(c,t)):a=-1}}return i}function FD(e,t,n,r,i,o){let s=t[R],a=s.data[e+8],c=r==null?ta(a)&&Pl:r!=s&&(a.type&3)!==0,l=i&M.Host&&o===a,u=jD(a,s,n,c,l);return u!==null?xi(t,s,u,a):st}function jD(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let g=s[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(i){let h=s[c];if(h&&Fi(h)&&h.type===n)return c}return null}function xi(e,t,n,r){let i=e[n],o=t.data;if(ND(i)){let s=i;s.resolving&&yC(vC(o[n]));let a=lg(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Fe(s.injectImpl):null,u=Dm(e,r,M.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&TD(n,o[n],t)}finally{l!==null&&Fe(l),lg(a),s.resolving=!1,Am()}}return i}function UD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ci)?e[Ci]:void 0;return typeof t=="number"?t>=0?t&xm:VD:t}function ug(e,t,n){let r=1<<e;return!!(n[t+(e>>Om)]&r)}function dg(e,t){return!(e&M.Self)&&!(e&M.Host&&t)}var wn=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return jm(this._tNode,this._lView,t,Qs(r),n)}};function VD(){return new wn(At(),te())}function Eu(e){return ki(()=>{let t=e.prototype.constructor,n=t[bs]||kl(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[bs]||kl(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kl(e){return kg(e)?()=>{let t=kl(je(e));return t&&t()}:yr(e)}function $D(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[b]&2048&&!(s[b]&512);){let a=Um(o,s,n,r|M.Self,st);if(a!==st)return a;let c=o.parent;if(!c){let l=s[om];if(l){let u=l.get(n,st,r);if(u!==st)return u}c=Vm(s),s=s[Li]}o=c}return i}function Vm(e){let t=e[R],n=t.type;return n===2?t.declTNode:n===1?e[Je]:null}function fg(e,t=null,n=null,r){let i=$m(e,t,n,r);return i.resolveInjectorInitializers(),i}function $m(e,t=null,n=null,r,i=new Set){let o=[n||ot,WC(e)];return r=r||(typeof e=="object"?void 0:Ne(e)),new Ti(o,t||fu(),r||null,i)}var se=class e{static{this.THROW_IF_NOT_FOUND=bi}static{this.NULL=new As}static create(t,n){if(Array.isArray(t))return fg({name:""},n,t,"");{let r=t.name??"";return fg({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=w({token:e,providedIn:"any",factory:()=>C(zg)})}static{this.__NG_ELEMENT_ID__=-1}};var BD=new I("");BD.__NG_ELEMENT_ID__=e=>{let t=At();if(t===null)throw new E(204,!1);if(t.type&2)return t.value;if(e&M.Optional)return null;throw new E(204,!1)};var HD="ngOriginalError";function vl(e){return e[HD]}var Bm=!0,Cu=(()=>{class e{static{this.__NG_ELEMENT_ID__=WD}static{this.__NG_ENV_ID__=n=>n}}return e})(),Ll=class extends Cu{constructor(t){super(),this._lView=t}onDestroy(t){return mm(this._lView,t),()=>uD(this._lView,t)}};function WD(){return new Ll(te())}var xr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Fl=class extends me{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,im()&&(this.destroyRef=m(Cu,{optional:!0})??void 0,this.pendingTasks=m(xr,{optional:!0})??void 0)}emit(t){let n=B(null);try{super.next(t)}finally{B(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof J&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ve=Fl;function Ps(...e){}function Hm(e){let t,n;function r(){e=Ps;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function hg(e){return queueMicrotask(()=>e()),()=>{e=Ps}}var Du="isAngularZone",ks=Du+"_ID",zD=0,L=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Bm}=t;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,YD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Du)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new E(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,GD,Ps,Ps);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},GD={};function bu(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Hm(()=>{e.callbackScheduled=!1,jl(e),e.isCheckStableRunning=!0,bu(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),jl(e)}function YD(e){let t=()=>{qD(e)},n=zD++;e._inner=e._inner.fork({name:"angular",properties:{[Du]:!0,[ks]:n,[ks+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(KD(c))return r.invokeTask(o,s,a,c);try{return pg(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),gg(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return pg(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!ZD(c)&&t(),gg(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,jl(e),bu(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function jl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function pg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gg(e){e._nesting--,bu(e)}var Ls=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ve,this.onMicrotaskEmpty=new ve,this.onStable=new ve,this.onError=new ve}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function KD(e){return Wm(e,"__ignore_ng_zone__")}function ZD(e){return Wm(e,"__scheduler_tick__")}function Wm(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function QD(e="zone.js",t){return e==="noop"?new Ls:e==="zone.js"?new L(t):e}var Dt=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&vl(t);for(;n&&vl(n);)n=vl(n);return n||null}},JD=new I("",{providedIn:"root",factory:()=>{let e=m(L),t=m(Dt);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function XD(){return Su(At(),te())}function Su(e,t){return new sa(ut(e,t))}var sa=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=XD}}return e})();function zm(e){return(e.flags&128)===128}var Gm=new Map,eb=0;function tb(){return eb++}function nb(e){Gm.set(e[ea],e)}function Ul(e){Gm.delete(e[ea])}var mg="__ngContext__";function bn(e,t){In(t)?(e[mg]=t[ea],nb(t)):e[mg]=t}function qm(e){return Km(e[Ni])}function Ym(e){return Km(e[Ye])}function Km(e){for(;e!==null&&!Tt(e);)e=e[Ye];return e}var Vl;function Zm(e){Vl=e}function rb(){if(Vl!==void 0)return Vl;if(typeof document<"u")return document;throw new E(210,!1)}var aa=new I("",{providedIn:"root",factory:()=>ib}),ib="ng",Tu=new I(""),dt=new I("",{providedIn:"platform",factory:()=>"unknown"});var Au=new I("",{providedIn:"root",factory:()=>rb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ob="h",sb="b";var ab=()=>null;function Nu(e,t,n=!1){return ab(e,t,n)}var Qm=!1,cb=new I("",{providedIn:"root",factory:()=>Qm});var Fs=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xg})`}};function Mu(e){return e instanceof Fs?e.changingThisBreaksApplicationSecurity:e}function Jm(e,t){let n=lb(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${xg})`)}return n===t}function lb(e){return e instanceof Fs&&e.getTypeName()||null}var ub=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xm(e){return e=String(e),e.match(ub)?e:"unsafe:"+e}var Ru=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ru||{});function ev(e){let t=db();return t?t.sanitize(Ru.URL,e)||"":Jm(e,"URL")?Mu(e):Xm(ou(e))}function db(){let e=te();return e&&e[ct].sanitizer}function tv(e){return e instanceof Function?e():e}function fb(e){return(e??m(se)).get(dt)==="browser"}var Sn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Sn||{}),hb;function xu(e,t){return hb(e,t)}function pr(e,t,n,r,i){if(r!=null){let o,s=!1;Tt(r)?o=r:In(r)&&(s=!0,r=r[St]);let a=Ct(r);e===0&&n!==null?i==null?ov(t,n,a):js(t,n,a,i||null,!0):e===1&&n!==null?js(t,n,a,i||null,!0):e===2?Ab(t,a,s):e===3&&t.destroyNode(a),o!=null&&Mb(t,e,o,n,i)}}function pb(e,t){return e.createText(t)}function gb(e,t,n){e.setValue(t,n)}function nv(e,t,n){return e.createElement(t,n)}function mb(e,t){rv(e,t),t[St]=null,t[Je]=null}function vb(e,t,n,r,i,o){r[St]=i,r[Je]=t,la(e,r,n,1,i,o)}function rv(e,t){t[ct].changeDetectionScheduler?.notify(9),la(e,t,t[Re],2,null,null)}function yb(e){let t=e[Ni];if(!t)return yl(e[R],e);for(;t;){let n=null;if(In(t))n=t[Ni];else{let r=t[ye];r&&(n=r)}if(!n){for(;t&&!t[Ye]&&t!==e;)In(t)&&yl(t[R],t),t=t[_e];t===null&&(t=e),In(t)&&yl(t[R],t),n=t&&t[Ye]}t=n}}function _b(e,t,n,r){let i=ye+r,o=n.length;r>0&&(n[i-1][Ye]=t),r<o-ye?(t[Ye]=n[i],Wg(n,ye+r,t)):(n.push(t),t[Ye]=null),t[_e]=n;let s=t[wr];s!==null&&n!==s&&iv(s,t);let a=t[Er];a!==null&&a.insertView(e),Rl(t),t[b]|=128}function iv(e,t){let n=e[Ms],r=t[_e];if(In(r))e[b]|=Rs.HasTransplantedViews;else{let i=r[_e][Ke];t[Ke]!==i&&(e[b]|=Rs.HasTransplantedViews)}n===null?e[Ms]=[t]:n.push(t)}function Ou(e,t){let n=e[Ms],r=n.indexOf(t);n.splice(r,1)}function Oi(e,t){if(e.length<=ye)return;let n=ye+t,r=e[n];if(r){let i=r[wr];i!==null&&i!==e&&Ou(i,r),t>0&&(e[n-1][Ye]=r[Ye]);let o=Ts(e,ye+t);mb(r[R],r);let s=o[Er];s!==null&&s.detachView(o[R]),r[_e]=null,r[Ye]=null,r[b]&=-129}return r}function ca(e,t){if(!(t[b]&256)){let n=t[Re];n.destroyNode&&la(e,t,n,3,null,null),yb(t)}}function yl(e,t){if(t[b]&256)return;let n=B(null);try{t[b]&=-129,t[b]|=256,t[Ve]&&Hc(t[Ve]),wb(e,t),Ib(e,t),t[R].type===1&&t[Re].destroy();let r=t[wr];if(r!==null&&Tt(t[_e])){r!==t[_e]&&Ou(r,t);let i=t[Er];i!==null&&i.detachView(e)}Ul(t)}finally{B(n)}}function Ib(e,t){let n=e.cleanup,r=t[ig];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[ig]=null);let i=t[Yt];if(i!==null){t[Yt]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function wb(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Ri)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];qt(4,a,c);try{c.call(a)}finally{qt(5,a,c)}}else{qt(4,i,o);try{o.call(i)}finally{qt(5,i,o)}}}}}function Eb(e,t,n){return Cb(e,t.parent,n)}function Cb(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[St];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===at.None||o===at.Emulated)return null}return ut(r,n)}}function js(e,t,n,r,i){e.insertBefore(t,n,r,i)}function ov(e,t,n){e.appendChild(t,n)}function vg(e,t,n,r,i){r!==null?js(e,t,n,r,i):ov(e,t,n)}function sv(e,t){return e.parentNode(t)}function Db(e,t){return e.nextSibling(t)}function bb(e,t,n){return Tb(e,t,n)}function Sb(e,t,n){return e.type&40?ut(e,n):null}var Tb=Sb,yg;function Pu(e,t,n,r){let i=Eb(e,r,t),o=t[Re],s=r.parent||t[Je],a=bb(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)vg(o,i,n[c],a,!1);else vg(o,i,n,a,!1);yg!==void 0&&yg(o,r,t,n,i)}function Ei(e,t){if(t!==null){let n=t.type;if(n&3)return ut(t,e);if(n&4)return $l(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ei(e,r);{let i=e[t.index];return Tt(i)?$l(-1,i):Ct(i)}}else{if(n&128)return Ei(e,t.next);if(n&32)return xu(t,e)()||Ct(e[t.index]);{let r=av(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Cn(e[Ke]);return Ei(i,r)}else return Ei(e,t.next)}}}return null}function av(e,t){if(t!==null){let r=e[Ke][Je],i=t.projection;return r.projection[i]}return null}function $l(e,t){let n=ye+e+1;if(n<t.length){let r=t[n],i=r[R].firstChild;if(i!==null)return Ei(r,i)}return t[En]}function Ab(e,t,n){e.removeChild(null,t,n)}function ku(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&bn(Ct(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)ku(e,t,n.child,r,i,o,!1),pr(t,e,i,a,o);else if(c&32){let l=xu(n,r),u;for(;u=l();)pr(t,e,i,u,o);pr(t,e,i,a,o)}else c&16?Nb(e,t,r,n,i,o):pr(t,e,i,a,o);n=s?n.projectionNext:n.next}}function la(e,t,n,r,i,o){ku(n,r,e.firstChild,t,i,o,!1)}function Nb(e,t,n,r,i,o){let s=n[Ke],c=s[Je].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];pr(t,e,i,u,o)}else{let l=c,u=s[_e];zm(r)&&(l.flags|=128),ku(e,t,l,u,i,o,!0)}}function Mb(e,t,n,r,i){let o=n[En],s=Ct(n);o!==s&&pr(t,e,r,o,i);for(let a=ye;a<n.length;a++){let c=n[a];la(c[R],c,e,t,r,o)}}function Rb(e,t,n){e.setAttribute(t,"style",n)}function cv(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function lv(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Dl(e,t,r),i!==null&&cv(e,t,i),o!==null&&Rb(e,t,o)}var Vi={};function ua(e=1){uv(Mr(),te(),oa()+e,!1)}function uv(e,t,n,r){if(!r)if((t[b]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Es(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Cs(t,o,0,n)}Dn(n)}function Lu(e,t=M.Default){let n=te();if(n===null)return C(e,t);let r=At();return jm(r,n,je(e),t)}function dv(){let e="invalid";throw new Error(e)}function fv(e,t,n,r,i,o){let s=B(null);try{let a=null;i&Kt.SignalBased&&(a=t[r][mp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Kt.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):lm(t,a,r,o)}finally{B(s)}}function xb(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Dn(~i);else{let o=i,s=n[++r],a=n[++r];wD(s,o);let c=t[o];a(2,c)}}}finally{Dn(-1)}}function da(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[St]=i,d[b]=r|4|128|8|64,(l!==null||e&&e[b]&2048)&&(d[b]|=2048),pm(d),d[_e]=d[Li]=e,d[Ue]=n,d[ct]=s||e&&e[ct],d[Re]=a||e&&e[Re],d[Ir]=c||e&&e[Ir]||null,d[Je]=o,d[ea]=tb(),d[Ai]=u,d[om]=l,d[Ke]=t.type==2?e[Ke]:d,d}function fa(e,t,n,r,i){let o=e.data[t];if(o===null)o=Ob(e,t,n,r,i),ID()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=vD();o.injectorIndex=s===null?-1:s.injectorIndex}return ji(o,!0),o}function Ob(e,t,n,r,i){let o=_m(),s=Im(),a=s?o:o&&o.parent,c=e.data[t]=jb(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function hv(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function pv(e,t,n,r,i){let o=oa(),s=r&2;try{Dn(-1),s&&t.length>Et&&uv(e,t,Et,!1),qt(s?2:0,i),n(r,i)}finally{Dn(o),qt(s?3:1,i)}}function gv(e,t,n){if(am(t)){let r=B(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{B(r)}}}function mv(e,t,n){ym()&&(zb(e,t,n,ut(n,t)),(n.flags&64)===64&&wv(e,t,n))}function vv(e,t,n=ut){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function yv(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Fu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Fu(e,t,n,r,i,o,s,a,c,l,u){let d=Et+r,f=d+i,h=Pb(d,f),g=typeof l=="function"?l():l;return h[R]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Pb(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Vi);return n}function kb(e,t,n,r){let o=r.get(cb,Qm)||n===at.ShadowDom,s=e.selectRootElement(t,o);return Lb(s),s}function Lb(e){Fb(e)}var Fb=()=>null;function jb(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return pD()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _g(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,c=Kt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}e===0?Ig(r,n,l,a,c):Ig(r,n,l,a)}return r}function Ig(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function Ub(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;c=_g(0,d.inputs,u,c,h),l=_g(1,d.outputs,u,l,g);let _=c!==null&&s!==null&&!lu(t)?e0(c,u,s):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function Vb(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function $b(e,t,n,r,i,o,s,a){let c=ut(t,n),l=t.inputs,u;!a&&l!=null&&(u=l[r])?(ju(e,n,u,r,i),ta(t)&&Bb(n,t.index)):t.type&3?(r=Vb(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)):t.type&12}function Bb(e,t){let n=Nr(t,e);n[b]&16||(n[b]|=64)}function _v(e,t,n,r){if(ym()){let i=r===null?null:{"":-1},o=qb(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Iv(e,t,n,s,i,a),i&&Yb(n,r,i)}n.mergedAttrs=cu(n.mergedAttrs,n.attrs)}function Iv(e,t,n,r,i,o){for(let l=0;l<r.length;l++)LD(Pm(n,t),e,r[l].type);Zb(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=hv(e,t,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=cu(n.mergedAttrs,u.hostAttrs),Qb(e,n,t,c,u),Kb(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}Ub(e,n,o)}function Hb(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;Wb(s)!=a&&s.push(a),s.push(n,r,o)}}function Wb(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function zb(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;ta(n)&&Jb(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Pm(n,t),bn(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],l=xi(t,e,a,n);if(bn(l,t),s!==null&&Xb(t,a-i,l,c,n,s),Fi(c)){let u=Nr(n.index,t);u[Ue]=xi(t,e,a,n)}}}function wv(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ED();try{Dn(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];xl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Gb(c,l)}}finally{Dn(-1),xl(s)}}function Gb(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function qb(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(kC(t,s.selectors,!1))if(r||(r=[]),Fi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Bl(e,t,c)}else r.unshift(s),Bl(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Bl(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Yb(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new E(-301,!1);r.push(t[i],o)}}}function Kb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Fi(t)&&(n[""]=e)}}function Zb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Qb(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=yr(i.type,!0)),s=new Ri(o,Fi(i),Lu);e.blueprint[r]=s,n[r]=s,Hb(e,t,r,hv(e,n,i.hostVars,Vi),i)}function Jb(e,t,n){let r=ut(t,e),i=yv(n),o=e[ct].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ha(e,da(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function Xb(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];fv(r,n,c,l,u,d)}}function e0(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Ev(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Cv(e,t){let n=e.contentQueries;if(n!==null){let r=B(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Cm(o),a.contentQueries(2,t[s],s)}}}finally{B(r)}}}function ha(e,t){return e[Ni]?e[og][Ye]=t:e[Ni]=t,e[og]=t,t}function Hl(e,t,n){Cm(0);let r=B(null);try{t(e,n)}finally{B(r)}}function t0(e,t){let n=e[Ir],r=n?n.get(Dt,null):null;r&&r.handleError(t)}function ju(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=t[s],u=e.data[s];fv(u,l,r,a,c,i)}}function n0(e,t,n){let r=cD(t,e);gb(e[Re],r,n)}function r0(e,t){let n=Nr(t,e),r=n[R];i0(r,n);let i=n[St];i!==null&&n[Ai]===null&&(n[Ai]=Nu(i,n[Ir])),Uu(r,n,n[Ue])}function i0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Uu(e,t,n){mu(t);try{let r=e.viewQuery;r!==null&&Hl(1,r,n);let i=e.template;i!==null&&pv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Er]?.finishViewCreation(e),e.staticContentQueries&&Cv(e,t),e.staticViewQueries&&Hl(2,e.viewQuery,n);let o=e.components;o!==null&&o0(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[b]&=-5,vu()}}function o0(e,t){for(let n=0;n<t.length;n++)r0(e,t[n])}function Dv(e,t,n,r){let i=B(null);try{let o=t.tView,a=e[b]&4096?4096:16,c=da(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[wr]=l;let u=e[Er];return u!==null&&(c[Er]=u.createEmbeddedView(o)),Uu(o,c,n),c}finally{B(i)}}function s0(e,t){let n=ye+t;if(n<e.length)return e[n]}function Us(e,t){return!t||t.firstChild===null||zm(e)}function Vu(e,t,n,r=!0){let i=t[R];if(_b(i,t,e,n),r){let s=$l(n,e),a=t[Re],c=sv(a,e[En]);c!==null&&vb(i,e[Je],a,t,c,s)}let o=t[Ai];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function a0(e,t){let n=Oi(e,t);return n!==void 0&&ca(n[R],n),n}function Vs(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Ct(o)),Tt(o)&&c0(o,r);let s=n.type;if(s&8)Vs(e,t,n.child,r);else if(s&32){let a=xu(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=av(t,n);if(Array.isArray(a))r.push(...a);else{let c=Cn(t[Ke]);Vs(c[R],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function c0(e,t){for(let n=ye;n<e.length;n++){let r=e[n],i=r[R].firstChild;i!==null&&Vs(r[R],r,i,t)}e[En]!==e[St]&&t.push(e[En])}var bv=[];function l0(e){return e[Ve]??u0(e)}function u0(e){let t=bv.pop()??Object.create(f0);return t.lView=e,t}function d0(e){e.lView[Ve]!==e&&(e.lView=null,bv.push(e))}var f0=Y(y({},Vc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ia(e.lView)},consumerOnSignalRead(){this.lView[Ve]=this}});function h0(e){let t=e[Ve]??Object.create(p0);return t.lView=e,t}var p0=Y(y({},Vc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Cn(e.lView);for(;t&&!Sv(t[R]);)t=Cn(t);t&&gm(t)},consumerOnSignalRead(){this.lView[Ve]=this}});function Sv(e){return e.type!==2}var g0=100;function Tv(e,t=!0,n=0){let r=e[ct],i=r.rendererFactory,o=!1;o||i.begin?.();try{m0(e,n)}catch(s){throw t&&t0(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function m0(e,t){let n=wm();try{ag(!0),Wl(e,t);let r=0;for(;ra(e);){if(r===g0)throw new E(103,!1);r++,Wl(e,1)}}finally{ag(n)}}function v0(e,t,n,r){let i=t[b];if((i&256)===256)return;let o=!1,s=!1;!o&&t[ct].inlineEffectRunner?.flush(),mu(t);let a=!0,c=null,l=null;o||(Sv(e)?(l=l0(t),c=$c(l)):vp()===null?(a=!1,l=h0(t),c=$c(l)):t[Ve]&&(Hc(t[Ve]),t[Ve]=null));try{pm(t),_D(e.bindingStartIndex),n!==null&&pv(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Es(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Cs(t,h,0,null),pl(t,0)}if(s||y0(t),Av(t,0),e.contentQueries!==null&&Cv(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Es(t,h)}else{let h=e.contentHooks;h!==null&&Cs(t,h,1),pl(t,1)}xb(e,t);let d=e.components;d!==null&&Mv(t,d,0);let f=e.viewQuery;if(f!==null&&Hl(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Es(t,h)}else{let h=e.viewHooks;h!==null&&Cs(t,h,2),pl(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[hl]){for(let h of t[hl])h();t[hl]=null}o||(t[b]&=-73)}catch(u){throw o||ia(t),u}finally{l!==null&&(yp(l,c),a&&d0(l)),vu()}}function Av(e,t){for(let n=qm(e);n!==null;n=Ym(n))for(let r=ye;r<n.length;r++){let i=n[r];Nv(i,t)}}function y0(e){for(let t=qm(e);t!==null;t=Ym(t)){if(!(t[b]&Rs.HasTransplantedViews))continue;let n=t[Ms];for(let r=0;r<n.length;r++){let i=n[r];gm(i)}}}function _0(e,t,n){let r=Nr(t,e);Nv(r,n)}function Nv(e,t){pu(e)&&Wl(e,t)}function Wl(e,t){let r=e[R],i=e[b],o=e[Ve],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Bc(o)),s||=!1,o&&(o.dirty=!1),e[b]&=-9217,s)v0(r,e,r.template,e[Ue]);else if(i&8192){Av(e,1);let a=r.components;a!==null&&Mv(e,a,1)}}function Mv(e,t,n){for(let r=0;r<t.length;r++)_0(e,t[r],n)}function Rv(e,t){let n=wm()?64:1088;for(e[ct].changeDetectionScheduler?.notify(t);e;){e[b]|=n;let r=Cn(e);if(Nl(e)&&!r)return e;e=r}return null}var Cr=class{get rootNodes(){let t=this._lView,n=t[R];return Vs(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ue]}set context(t){this._lView[Ue]=t}get destroyed(){return(this._lView[b]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[_e];if(Tt(t)){let n=t[Ns],r=n?n.indexOf(this):-1;r>-1&&(Oi(t,r),Ts(n,r))}this._attachedToViewContainer=!1}ca(this._lView[R],this._lView)}onDestroy(t){mm(this._lView,t)}markForCheck(){Rv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[b]&=-129}reattach(){Rl(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,Tv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Nl(this._lView),n=this._lView[wr];n!==null&&!t&&Ou(n,this._lView),rv(this._lView[R],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t;let n=Nl(this._lView),r=this._lView[wr];r!==null&&!n&&iv(r,this._lView),Rl(this._lView)}};var Yj=new RegExp(`^(\\d+)*(${sb}|${ob})*(.*)`);var I0=()=>null;function $s(e,t){return I0(e,t)}var Dr=class{},$u=new I("",{providedIn:"root",factory:()=>!1});var xv=new I(""),Ov=new I(""),zl=class{},Bs=class{};function w0(e){let t=Error(`No component factory found for ${Ne(e)}.`);return t[E0]=e,t}var E0="ngComponent";var Gl=class{resolveComponentFactory(t){throw w0(t)}},br=class{static{this.NULL=new Gl}},Sr=class{};var C0=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>null})}}return e})();function ql(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Yp(i,a);else if(o==2){let c=a,l=t[++s];r=Yp(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Hs=class extends br{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Zt(t);return new Tr(n,this.ngModule)}};function wg(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Kt.None;t?n.push({propName:s,templateName:r,isSignal:(a&Kt.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function D0(e){let t=e.toLowerCase();return t==="svg"?hm:t==="math"?aD:null}var Tr=class extends Bs{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=wg(t.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wg(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=UC(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=B(null);try{i=i||this.ngModule;let s=i instanceof Me?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ol(t,s):t,c=a.get(Sr,null);if(c===null)throw new E(407,!1);let l=a.get(C0,null),u=a.get(Dr,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=r?kb(f,r,this.componentDef.encapsulation,a):nv(f,h,D0(h)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let A=null;g!==null&&(A=Nu(g,a,!0));let U=Fu(0,null,null,1,0,null,null,null,null,null,null),Z=da(null,U,null,_,null,null,d,f,a,null,A);mu(Z);let ge,yt,hn=null;try{let Ee=this.componentDef,_t,mi=null;Ee.findHostDirectiveDefs?(_t=[],mi=new Map,Ee.findHostDirectiveDefs(Ee,_t,mi),_t.push(Ee)):_t=[Ee];let vi=b0(Z,g);hn=S0(vi,g,Ee,_t,Z,d,f),yt=hu(U,Et),g&&N0(f,Ee,g,r),n!==void 0&&M0(yt,this.ngContentSelectors,n),ge=A0(hn,Ee,_t,mi,Z,[R0]),Uu(U,Z,null)}catch(Ee){throw hn!==null&&Ul(hn),Ul(Z),Ee}finally{vu()}return new Yl(this.componentType,ge,Su(yt,Z),Z,yt)}finally{B(o)}}},Yl=class extends zl{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Cr(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;ju(o[R],o,i,t,n),this.previousInputValues.set(t,n);let s=Nr(this._tNode.index,o);Rv(s,1)}}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function b0(e,t){let n=e[R],r=Et;return e[r]=t,fa(n,r,2,"#host",null)}function S0(e,t,n,r,i,o,s){let a=i[R];T0(r,e,t,s);let c=null;t!==null&&(c=Nu(t,i[Ir]));let l=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=da(i,yv(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&Bl(a,e,r.length-1),ha(i,d),i[e.index]=d}function T0(e,t,n,r){for(let i of e)t.mergedAttrs=cu(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(ql(t,t.mergedAttrs,!0),n!==null&&lv(r,n,t))}function A0(e,t,n,r,i,o){let s=At(),a=i[R],c=ut(s,i);Iv(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=xi(i,a,d,s);bn(f,i)}wv(a,i,s),c&&bn(c,i);let l=xi(i,a,s.directiveStart+s.componentOffset,s);if(e[Ue]=i[Ue]=l,o!==null)for(let u of o)u(l,t);return gv(a,s,i),l}function N0(e,t,n,r){if(r)Dl(e,n,["ng-version","18.2.12"]);else{let{attrs:i,classes:o}=VC(t.selectors[0]);i&&Dl(e,n,i),o&&o.length>0&&cv(e,n,o.join(" "))}}function M0(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function R0(){let e=At();Iu(te()[R],e)}var pa=(()=>{class e{static{this.__NG_ELEMENT_ID__=x0}}return e})();function x0(){let e=At();return P0(e,te())}var O0=pa,Pv=class extends O0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Su(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){let t=wu(this._hostTNode,this._hostLView);if(Rm(t)){let n=Os(t,this._hostLView),r=xs(t),i=n[R].data[r+8];return new wn(i,n)}else return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Eg(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ye}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$s(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Us(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!rD(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?t:new Tr(Zt(t)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let _=(s?l:this.parentInjector).get(Me,null);_&&(o=_)}let u=Zt(c.componentType??{}),d=$s(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,Us(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(lD(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[_e],l=new Pv(c,c[Je],c[_e]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Vu(s,i,o,r),t.attachToViewContainerRef(),Wg(_l(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Eg(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Oi(this._lContainer,n);r&&(Ts(_l(this._lContainer),n),ca(r[R],r))}detach(t){let n=this._adjustIndex(t,-1),r=Oi(this._lContainer,n);return r&&Ts(_l(this._lContainer),n)!=null?new Cr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Eg(e){return e[Ns]}function _l(e){return e[Ns]||(e[Ns]=[])}function P0(e,t){let n,r=t[e.index];return Tt(r)?n=r:(n=Ev(r,t,null,e),t[e.index]=n,ha(t,n)),L0(n,t,e,r),new Pv(n,e,t)}function k0(e,t){let n=e[Re],r=n.createComment(""),i=ut(t,e),o=sv(n,i);return js(n,o,r,Db(n,i),!1),r}var L0=U0,F0=()=>!1;function j0(e,t,n){return F0(e,t,n)}function U0(e,t,n,r){if(e[En])return;let i;n.type&8?i=Ct(r):i=k0(t,n),e[En]=i}var Cg=new Set;function ga(e){Cg.has(e)||(Cg.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function V0(e){let t=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=e(i);n.set(i,o=s.then(W0))}return o}return Ws.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(r(d).then(h=>{a[l+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>z0(o));t.push(c)}),B0(),Promise.all(t).then(()=>{})}var Ws=new Map,$0=new Set;function B0(){let e=Ws;return Ws=new Map,e}function H0(){return Ws.size===0}function W0(e){return typeof e=="string"?e:e.text()}function z0(e){$0.delete(e)}var Qt=class{},Pi=class{};var zs=class extends Qt{constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hs(this);let o=Jg(t);this._bootstrapComponents=tv(o.bootstrap),this._r3Injector=$m(t,n,[{provide:Qt,useValue:this},{provide:br,useValue:this.componentFactoryResolver},...r],Ne(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Gs=class extends Pi{constructor(t){super(),this.moduleType=t}create(t){return new zs(this.moduleType,t,[])}};function G0(e,t,n){return new zs(e,t,n,!1)}var Kl=class extends Qt{constructor(t){super(),this.componentFactoryResolver=new Hs(this),this.instance=null;let n=new Ti([...t.providers,{provide:Qt,useValue:this},{provide:br,useValue:this.componentFactoryResolver}],t.parent||fu(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ma(e,t,n=null){return new Kl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function kv(e,t,n){return e[t]=n}function Lv(e,t){return e[t]}function Ar(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Dg(e,t,n,r){let i=Ar(e,t,n);return Ar(e,t+1,r)||i}function q0(e,t,n,r,i,o){let s=Dg(e,t,n,r);return Dg(e,t+2,i,o)||s}function Y0(e){return(e.flags&32)===32}function K0(e,t,n,r,i,o,s,a,c){let l=t.consts,u=fa(t,e,4,s||null,a||null);_v(t,n,u,Mi(l,c)),Iu(t,u);let d=u.tView=Fu(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function bg(e,t,n,r,i,o,s,a,c,l){let u=n+Et,d=t.firstCreatePass?K0(u,t,e,r,i,o,s,a,c):t.data[u];ji(d,!1);let f=Z0(t,e,d,n);yu()&&Pu(t,e,f,d),bn(f,e);let h=Ev(f,e,f,d);return e[u]=h,ha(e,h),j0(h,d,e),cm(d)&&mv(t,e,d),c!=null&&vv(e,d,l),d}var Z0=Q0;function Q0(e,t,n,r){return _u(!0),t[Re].createComment("")}var gr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(gr||{}),Fv=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Zl=class e{constructor(){this.ngZone=m(L),this.scheduler=m(Dr),this.errorHandler=m(Dt,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[gr.EarlyRead,gr.Write,gr.MixedReadWrite,gr.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}},Ql=class{constructor(t,n,r,i){this.impl=t,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Bu(e,t){!t?.injector&&tD(Bu);let n=t?.injector??m(se);return fb(n)?(ga("NgAfterNextRender"),X0(e,n,t,!0)):eS}function J0(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function X0(e,t,n,r){let i=t.get(Fv);i.impl??=t.get(Zl);let o=n?.phase??gr.MixedReadWrite,s=n?.manualCleanup!==!0?t.get(Cu):null,a=new Ql(i.impl,J0(e,o),r,s);return i.impl.register(a),a}var eS={destroy(){}};function tS(e,t,n,r){return Ar(e,gu(),n)?t+ou(n)+r:Vi}function Hu(e,t,n){let r=te(),i=gu();if(Ar(r,i,t)){let o=Mr(),s=DD();$b(o,s,r,e,t,r[Re],n,!1)}return Hu}function Sg(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";ju(e,n,o[s],s,r)}var Jl=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Il(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function nS(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=Il(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let f=e.at(s),h=t[c],g=Il(s,f,c,h,n);if(g!==0){g<0&&e.updateValue(s,h),s--,c--;continue}let _=n(o,l),A=n(s,f),U=n(o,u);if(Object.is(U,A)){let Z=n(c,h);Object.is(Z,_)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new qs,i??=Ag(e,o,s,n),Xl(e,r,o,U))e.updateValue(o,u),o++,s++;else if(i.has(U))r.set(_,e.detach(o)),s--;else{let Z=e.create(o,t[o]);e.attach(o,Z),o++,s++}}for(;o<=c;)Tg(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,f=Il(o,u,o,d,n);if(f!==0)f<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new qs,i??=Ag(e,o,s,n);let h=n(o,d);if(Xl(e,r,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let g=n(o,u);r.set(g,e.detach(o)),s--}}}for(;!l.done;)Tg(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function Xl(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function Tg(e,t,n,r,i){if(Xl(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function Ag(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var qs=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};var eu=class{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ye}};var tu=class{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function jv(e,t,n,r,i,o,s,a,c,l,u,d,f){ga("NgControlFlow");let h=te(),g=Mr(),_=c!==void 0,A=te(),U=a?s.bind(A[Ke][Ue]):s,Z=new tu(_,U);A[Et+e]=Z,bg(h,g,e+1,t,n,r,i,Mi(g.consts,o)),_&&bg(h,g,e+2,c,l,u,d,Mi(g.consts,f))}var nu=class extends Jl{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ye}at(t){return this.getLView(t)[Ue].$implicit}attach(t,n){let r=n[Ai];this.needsIndexUpdate||=t!==this.length,Vu(this.lContainer,n,t,Us(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,rS(this.lContainer,t)}create(t,n){let r=$s(this.lContainer,this.templateTNode.tView.ssrId),i=Dv(this.hostLView,this.templateTNode,new eu(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){ca(t[R],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[Ue].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Ue].$index=t}getLView(t){return iS(this.lContainer,t)}};function Uv(e){let t=B(null),n=oa();try{let r=te(),i=r[R],o=r[n],s=n+1,a=Ng(r,s);if(o.liveCollection===void 0){let l=Mg(i,s);o.liveCollection=new nu(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(nS(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=gu(),u=c.length===0;if(Ar(r,l,u)){let d=n+2,f=Ng(r,d);if(u){let h=Mg(i,d),g=$s(f,h.tView.ssrId),_=Dv(r,h,void 0,{dehydratedView:g});Vu(f,_,0,Us(h,g))}else a0(f,0)}}}finally{B(t)}}function Ng(e,t){return e[t]}function rS(e,t){return Oi(e,t)}function iS(e,t){return s0(e,t)}function Mg(e,t){return hu(e,t)}function oS(e,t,n,r,i,o){let s=t.consts,a=Mi(s,i),c=fa(t,e,2,r,a);return _v(t,n,c,Mi(s,o)),c.attrs!==null&&ql(c,c.attrs,!1),c.mergedAttrs!==null&&ql(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function re(e,t,n,r){let i=te(),o=Mr(),s=Et+e,a=i[Re],c=o.firstCreatePass?oS(s,o,i,t,n,r):o.data[s],l=sS(o,i,c,a,t,e);i[s]=l;let u=cm(c);return ji(c,!0),lv(a,l,c),!Y0(c)&&yu()&&Pu(o,i,l,c),dD()===0&&bn(l,i),fD(),u&&(mv(o,i,c),gv(o,c,i)),r!==null&&vv(i,c),re}function we(){let e=At();Im()?yD():(e=e.parent,ji(e,!1));let t=e;gD(t)&&mD(),hD();let n=Mr();return n.firstCreatePass&&(Iu(n,e),am(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&MD(t)&&Sg(n,t,te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&RD(t)&&Sg(n,t,te(),t.stylesWithoutHost,!1),we}function De(e,t,n,r){return re(e,t,n,r),we(),De}var sS=(e,t,n,r,i,o)=>(_u(!0),nv(r,i,SD()));var Ys="en-US";var aS=Ys;function cS(e){typeof e=="string"&&(aS=e.toLowerCase().replace(/_/g,"-"))}function va(e,t=""){let n=te(),r=Mr(),i=e+Et,o=r.firstCreatePass?fa(r,i,1,t,null):r.data[i],s=lS(r,n,o,t,e);n[i]=s,yu()&&Pu(r,n,s,o),ji(o,!1)}var lS=(e,t,n,r,i)=>(_u(!0),pb(t[Re],r));function Wu(e){return ya("",e,""),Wu}function ya(e,t,n){let r=te(),i=tS(r,e,t,n);return i!==Vi&&n0(r,oa(),i),ya}var uS=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=tm(!1,n.type),i=r.length>0?ma([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=w({token:e,providedIn:"environment",factory:()=>new e(C(Me))})}}return e})();function Vv(e){ga("NgStandalone"),e.getStandaloneInjector=t=>t.get(uS).getOrCreateStandaloneInjector(e)}function Or(e,t,n){let r=Em()+e,i=te();return i[r]===Vi?kv(i,r,n?t.call(n):t()):Lv(i,r)}function $v(e,t,n,r,i,o,s,a){let c=Em()+e,l=te(),u=q0(l,c,n,r,i,o);return Ar(l,c+4,s)||u?kv(l,c+5,a?t.call(a,n,r,i,o,s):t(n,r,i,o,s)):Lv(l,c+5)}var _s=null;function dS(e){_s!==null&&(e.defaultEncapsulation!==_s.defaultEncapsulation||e.preserveWhitespaces!==_s.preserveWhitespaces)||(_s=e)}var Jt=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Bv=new Jt("18.2.12");var _a=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var zu=new I(""),$i=new I(""),Ia=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Gu||(fS(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{L.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(C(L),C(wa),C($i))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),wa=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Gu?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function fS(e){Gu=e}var Gu;function Bi(e){return!!e&&typeof e.then=="function"}function Hv(e){return!!e&&typeof e.subscribe=="function"}var Ea=new I(""),Wv=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=m(Ea,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Bi(o))n.push(o);else if(Hv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qu=new I("");function hS(){_p(()=>{throw new E(600,!1)})}function pS(e){return e.isBoundToModule}var gS=10;function mS(e,t,n){try{let r=n();return Bi(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}function zv(e,t){return Array.isArray(t)?t.reduce(zv,e):y(y({},e),t)}var en=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=m(JD),this.afterRenderManager=m(Fv),this.zonelessEnabled=m($u),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new me,this.afterTick=new me,this.componentTypes=[],this.components=[],this.isStable=m(xr).hasPendingTasks.pipe(x(n=>!n)),this._injector=m(Me)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Bs;if(!this._injector.get(Wv).done){let f=!i&&Qg(n),h=!1;throw new E(405,h)}let s;i?s=n:s=this._injector.get(br).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=pS(s)?void 0:this._injector.get(Qt),c=r||s.selector,l=s.create(se.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(zu,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Ds(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new E(101,!1);let n=B(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,B(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Sr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<gS;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)vS(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ra(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ds(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(qu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ds(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ds(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function vS(e,t,n,r){if(!n&&!ra(e))return;Tv(e,t,n&&!r?0:1)}var ru=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Ca=(()=>{class e{compileModuleSync(n){return new Gs(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Jg(n),o=tv(i.declarations).reduce((s,a)=>{let c=Zt(a);return c&&s.push(new Tr(c)),s},[]);return new ru(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yS=new I("");function _S(e,t,n){let r=new Gs(n);return Promise.resolve(r)}function Rg(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var IS=(()=>{class e{constructor(){this.zone=m(L),this.changeDetectionScheduler=m(Dr),this.applicationRef=m(en)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wS({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new L(Y(y({},Gv()),{scheduleInRootZone:n})),[{provide:L,useFactory:e},{provide:_r,multi:!0,useFactory:()=>{let r=m(IS,{optional:!0});return()=>r.initialize()}},{provide:_r,multi:!0,useFactory:()=>{let r=m(ES);return()=>{r.initialize()}}},t===!0?{provide:xv,useValue:!0}:[],{provide:Ov,useValue:n??Bm}]}function Gv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var ES=(()=>{class e{constructor(){this.subscription=new J,this.initialized=!1,this.zone=m(L),this.pendingTasks=m(xr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{L.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{L.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var CS=(()=>{class e{constructor(){this.appRef=m(en),this.taskService=m(xr),this.ngZone=m(L),this.zonelessEnabled=m($u),this.disableScheduling=m(xv,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new J,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ks):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Ov,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ls||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?hg:Hm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ks+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function DS(){return typeof $localize<"u"&&$localize.locale||Ys}var Yu=new I("",{providedIn:"root",factory:()=>m(Yu,M.Optional|M.SkipSelf)||DS()});var Ks=new I("");function Is(e){return!e.moduleRef}function bS(e){let t=Is(e)?e.r3Injector:e.moduleRef.injector,n=t.get(L);return n.run(()=>{Is(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Dt,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Is(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Ks);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ks);s.add(o),e.moduleRef.onDestroy(()=>{Ds(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return mS(r,n,()=>{let o=t.get(Wv);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Yu,Ys);if(cS(s||Ys),Is(e)){let a=t.get(en);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return SS(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function SS(e,t){let n=e.injector.get(en);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new E(-403,!1);t.push(e)}var qv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let i=r?.scheduleInRootZone,o=()=>QD(r?.ngZone,Y(y({},Gv({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[wS({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Dr,useExisting:CS}],c=G0(n.moduleType,this.injector,a);return bS({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){let i=zv({},r);return _S(this.injector,i,n).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(Ks,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(C(se))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Di=null,Yv=new I("");function TS(e){if(Di&&!Di.get(Yv,!1))throw new E(400,!1);hS(),Di=e;let t=e.get(qv);return MS(e),t}function Ku(e,t,n=[]){let r=`Platform: ${t}`,i=new I(r);return(o=[])=>{let s=Kv();if(!s||s.injector.get(Yv,!1)){let a=[...n,...o,{provide:i,useValue:!0}];e?e(a):TS(AS(a,r))}return NS(i)}}function AS(e=[],t){return se.create({name:t,providers:[{provide:Xs,useValue:"platform"},{provide:Ks,useValue:new Set([()=>Di=null])},...e]})}function NS(e){let t=Kv();if(!t)throw new E(401,!1);return t}function Kv(){return Di?.get(qv)??null}function MS(e){e.get(Tu,null)?.forEach(n=>n())}var Hi=(()=>{class e{static{this.__NG_ELEMENT_ID__=RS}}return e})();function RS(e){return xS(At(),te(),(e&16)===16)}function xS(e,t,n){if(ta(e)&&!n){let r=Nr(e.index,t);return new Cr(r,r)}else if(e.type&175){let r=t[Ke];return new Cr(r,t)}return null}var Zv=Ku(null,"core",[]),Qv=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(C(en))}}static{this.\u0275mod=Qe({type:e})}static{this.\u0275inj=Ze({})}}return e})();function Jv(e){let t=Zt(e);if(!t)return null;let n=new Tr(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var ny=null;function An(){return ny}function ry(e){ny??=e}var Da=class{};var be=new I(""),Ju=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>m(LS),providedIn:"platform"})}}return e})(),iy=new I(""),LS=(()=>{class e extends Ju{constructor(){super(),this._doc=m(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return An().getBaseHref(this._doc)}onPopState(n){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Xu(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Xv(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function Nt(e){return e&&e[0]!=="?"?"?"+e:e}var Nn=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>m(ed),providedIn:"root"})}}return e})(),oy=new I(""),ed=(()=>{class e extends Nn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Xu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Nt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Nt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Nt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(C(Ju),C(oy,8))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),sy=(()=>{class e extends Nn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Xu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Nt(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Nt(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(C(Ju),C(oy,8))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Pr=(()=>{class e{constructor(n){this._subject=new ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=US(Xv(ey(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Nt(r))}normalize(n){return e.stripTrailingSlash(jS(this._basePath,ey(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Nt}static{this.joinWithSlash=Xu}static{this.stripTrailingSlash=Xv}static{this.\u0275fac=function(r){return new(r||e)(C(Nn))}}static{this.\u0275prov=w({token:e,factory:()=>FS(),providedIn:"root"})}}return e})();function FS(){return new Pr(C(Nn))}function jS(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function ey(e){return e.replace(/\/index.html$/,"")}function US(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function ay(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var cy=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Qe({type:e})}static{this.\u0275inj=Ze({})}}return e})(),td="browser",VS="server";function $S(e){return e===td}function nd(e){return e===VS}var ly=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>$S(m(dt))?new Zu(m(be),window):new Qu})}}return e})(),Zu=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=BS(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function BS(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Qu=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},ba=class{};var od=class extends Da{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sd=class e extends od{static makeCurrent(){ry(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=HS();return n==null?null:WS(n)}resetBaseElement(){Wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ay(document.cookie,t)}},Wi=null;function HS(){return Wi=Wi||document.querySelector("base"),Wi?Wi.getAttribute("href"):null}function WS(e){return new URL(e,document.baseURI).pathname}var ad=class{addToWindow(t){bt.getAngularTestability=(r,i=!0)=>{let o=t.findTestabilityInTree(r,i);if(o==null)throw new E(5103,!1);return o},bt.getAllAngularTestabilities=()=>t.getAllTestabilities(),bt.getAllAngularRootElements=()=>t.getAllRootElements();let n=r=>{let i=bt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,r){if(n==null)return null;let i=t.getTestability(n);return i??(r?An().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},zS=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),cd=new I(""),hy=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(C(cd),C(L))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Sa=class{constructor(t){this._doc=t}},rd="ng-app-id",py=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nd(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${rd}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(rd),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(rd,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(C(be),C(aa),C(Au,8),C(dt))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),id={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ud=/%COMP%/g,gy="%COMP%",GS=`_nghost-${gy}`,qS=`_ngcontent-${gy}`,YS=!0,KS=new I("",{providedIn:"root",factory:()=>YS});function ZS(e){return qS.replace(ud,e)}function QS(e){return GS.replace(ud,e)}function my(e,t){return t.map(n=>n.replace(ud,e))}var uy=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=nd(a),this.defaultRenderer=new zi(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===at.ShadowDom&&(r=Y(y({},r),{encapsulation:at.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ta?i.applyToHost(n):i instanceof Gi&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case at.Emulated:o=new Ta(c,l,r,this.appId,u,s,a,d);break;case at.ShadowDom:return new ld(c,l,n,r,s,a,this.nonce,d);default:o=new Gi(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(C(hy),C(py),C(aa),C(KS),C(be),C(dt),C(L),C(Au))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),zi=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(id[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(dy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(dy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=id[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=id[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Sn.DashCase|Sn.Important)?t.style.setProperty(n,r,i&Sn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Sn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=An().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function dy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ld=class extends zi{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=my(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gi=class extends zi{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?my(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ta=class extends Gi{constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=ZS(l),this.hostAttr=QS(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},JS=(()=>{class e extends Sa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(C(be))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),fy=["alt","control","meta","shift"],XS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},tT=(()=>{class e extends Sa{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fy.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=XS[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fy.forEach(s=>{if(s!==i){let a=eT[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(C(be))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function nT(){sd.makeCurrent()}function rT(){return new Dt}function iT(){return Zm(document),document}var oT=[{provide:dt,useValue:td},{provide:Tu,useValue:nT,multi:!0},{provide:be,useFactory:iT,deps:[]}],vy=Ku(Zv,"browser",oT),sT=new I(""),aT=[{provide:$i,useClass:ad,deps:[]},{provide:zu,useClass:Ia,deps:[L,wa,$i]},{provide:Ia,useClass:Ia,deps:[L,wa,$i]}],cT=[{provide:Xs,useValue:"root"},{provide:Dt,useFactory:rT,deps:[]},{provide:cd,useClass:JS,multi:!0,deps:[be,L,dt]},{provide:cd,useClass:tT,multi:!0,deps:[be]},uy,py,hy,{provide:Sr,useExisting:uy},{provide:ba,useClass:zS,deps:[]},[]],yy=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:aa,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(C(sT,12))}}static{this.\u0275mod=Qe({type:e})}static{this.\u0275inj=Ze({providers:[...cT,...aT],imports:[cy,Qv]})}}return e})();var _y=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(C(be))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var N="primary",ao=Symbol("RouteTitle"),gd=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vr(e){return new gd(e)}function lT(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function uT(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ft(e[n],t[n]))return!1;return!0}function ft(e,t){let n=e?md(e):void 0,r=t?md(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ry(e[i],t[i]))return!1;return!0}function md(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Ry(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function xy(e){return e.length>0?e[e.length-1]:null}function nn(e){return sl(e)?e:Bi(e)?X(Promise.resolve(e)):D(e)}var dT={exact:Py,subset:ky},Oy={exact:fT,subset:hT,ignored:()=>!0};function wy(e,t,n){return dT[n.paths](e.root,t.root,n.matrixParams)&&Oy[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function fT(e,t){return ft(e,t)}function Py(e,t,n){if(!Rn(e.segments,t.segments)||!Ma(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Py(e.children[r],t.children[r],n))return!1;return!0}function hT(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Ry(e[n],t[n]))}function ky(e,t,n){return Ly(e,t,t.segments,n)}function Ly(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Rn(i,n)||t.hasChildren()||!Ma(i,n,r))}else if(e.segments.length===n.length){if(!Rn(e.segments,n)||!Ma(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!ky(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Rn(e.segments,i)||!Ma(e.segments,i,r)||!e.children[N]?!1:Ly(e.children[N],t,o,r)}}function Ma(e,t,n){return t.every((r,i)=>Oy[n](e[i].parameters,r.parameters))}var Rt=class{constructor(t=new H([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vr(this.queryParams),this._queryParamMap}toString(){return mT.serialize(this)}},H=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ra(this)}},Mn=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Vr(this.parameters),this._parameterMap}toString(){return jy(this)}};function pT(e,t){return Rn(e,t)&&e.every((n,r)=>ft(n.parameters,t[r].parameters))}function Rn(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function gT(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===N&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==N&&(n=n.concat(t(i,r)))}),n}var co=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>new $r,providedIn:"root"})}}return e})(),$r=class{parse(t){let n=new yd(t);return new Rt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${qi(t.root,!0)}`,r=_T(t.queryParams),i=typeof t.fragment=="string"?`#${vT(t.fragment)}`:"";return`${n}${r}${i}`}},mT=new $r;function Ra(e){return e.segments.map(t=>jy(t)).join("/")}function qi(e,t){if(!e.hasChildren())return Ra(e);if(t){let n=e.children[N]?qi(e.children[N],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==N&&r.push(`${i}:${qi(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=gT(e,(r,i)=>i===N?[qi(e.children[N],!1)]:[`${i}:${qi(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[N]!=null?`${Ra(e)}/${n[0]}`:`${Ra(e)}/(${n.join("//")})`}}function Fy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Aa(e){return Fy(e).replace(/%3B/gi,";")}function vT(e){return encodeURI(e)}function vd(e){return Fy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xa(e){return decodeURIComponent(e)}function Ey(e){return xa(e.replace(/\+/g,"%20"))}function jy(e){return`${vd(e.path)}${yT(e.parameters)}`}function yT(e){return Object.entries(e).map(([t,n])=>`;${vd(t)}=${vd(n)}`).join("")}function _T(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Aa(n)}=${Aa(i)}`).join("&"):`${Aa(n)}=${Aa(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var IT=/^[^\/()?;#]+/;function dd(e){let t=e.match(IT);return t?t[0]:""}var wT=/^[^\/()?;=#]+/;function ET(e){let t=e.match(wT);return t?t[0]:""}var CT=/^[^=?&#]+/;function DT(e){let t=e.match(CT);return t?t[0]:""}var bT=/^[^&#]+/;function ST(e){let t=e.match(bT);return t?t[0]:""}var yd=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new H([],{}):new H([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[N]=new H(t,n)),r}parseSegment(){let t=dd(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new Mn(xa(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=ET(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=dd(this.remaining);i&&(r=i,this.capture(r))}t[xa(n)]=xa(r)}parseQueryParam(t){let n=DT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=ST(this.remaining);s&&(r=s,this.capture(r))}let i=Ey(n),o=Ey(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=dd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=N);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[N]:new H([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}};function Uy(e){return e.segments.length>0?new H([],{[N]:e}):e}function Vy(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=Vy(i);if(r===N&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new H(e.segments,t);return TT(n)}function TT(e){if(e.numberOfChildren===1&&e.children[N]){let t=e.children[N];return new H(e.segments.concat(t.segments),t.children)}return e}function Xi(e){return e instanceof Rt}function AT(e,t,n=null,r=null){let i=$y(e);return By(i,t,n,r)}function $y(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new H(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Uy(r);return t??i}function By(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return fd(i,i,i,n,r);let o=NT(t);if(o.toRoot())return fd(i,i,new H([],{}),n,r);let s=MT(o,i,e),a=s.processChildren?Zi(s.segmentGroup,s.index,o.commands):Wy(s.segmentGroup,s.index,o.commands);return fd(i,s.segmentGroup,a,n,r)}function Oa(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function eo(e){return typeof e=="object"&&e!=null&&e.outlets}function fd(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=Hy(e,t,n);let a=Uy(Vy(s));return new Rt(a,o,i)}function Hy(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Hy(o,t,n)}),new H(e.segments,r)}var Pa=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Oa(r[0]))throw new E(4003,!1);let i=r.find(eo);if(i&&i!==xy(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NT(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Pa(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pa(n,t,r)}var Fr=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function MT(e,t,n){if(e.isAbsolute)return new Fr(t,!0,0);if(!n)return new Fr(t,!1,NaN);if(n.parent===null)return new Fr(n,!0,0);let r=Oa(e.commands[0])?0:1,i=n.segments.length-1+r;return RT(n,i,e.numberOfDoubleDots)}function RT(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Fr(r,!1,i-o)}function xT(e){return eo(e[0])?e[0].outlets:{[N]:e}}function Wy(e,t,n){if(e??=new H([],{}),e.segments.length===0&&e.hasChildren())return Zi(e,t,n);let r=OT(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new H(e.segments.slice(0,r.pathIndex),{});return o.children[N]=new H(e.segments.slice(r.pathIndex),e.children),Zi(o,0,i)}else return r.match&&i.length===0?new H(e.segments,{}):r.match&&!e.hasChildren()?_d(e,t,n):r.match?Zi(e,0,i):_d(e,t,n)}function Zi(e,t,n){if(n.length===0)return new H(e.segments,{});{let r=xT(n),i={};if(Object.keys(r).some(o=>o!==N)&&e.children[N]&&e.numberOfChildren===1&&e.children[N].segments.length===0){let o=Zi(e.children[N],t,n);return new H(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Wy(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new H(e.segments,i)}}function OT(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(eo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Dy(c,l,s))return o;r+=2}else{if(!Dy(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _d(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(eo(o)){let c=PT(o.outlets);return new H(r,c)}if(i===0&&Oa(n[0])){let c=e.segments[t];r.push(new Mn(c.path,Cy(n[0]))),i++;continue}let s=eo(o)?o.outlets[N]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Oa(a)?(r.push(new Mn(s,Cy(a))),i+=2):(r.push(new Mn(s,{})),i++)}return new H(r,{})}function PT(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=_d(new H([],{}),0,r))}),t}function Cy(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Dy(e,t,n){return e==n.path&&ft(t,n.parameters)}var Qi="imperative",ae=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ae||{}),$e=class{constructor(t,n){this.id=t,this.url=n}},Br=class extends $e{constructor(t,n,r="imperative",i=null){super(t,n),this.type=ae.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xt=class extends $e{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=ae.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Oe=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Oe||{}),ka=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ka||{}),Mt=class extends $e{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=ae.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tn=class extends $e{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=ae.NavigationSkipped}},to=class extends $e{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=ae.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},La=class extends $e{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ae.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Id=class extends $e{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ae.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wd=class extends $e{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ae.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ed=class extends $e{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ae.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cd=class extends $e{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ae.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dd=class{constructor(t){this.route=t,this.type=ae.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bd=class{constructor(t){this.route=t,this.type=ae.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sd=class{constructor(t){this.snapshot=t,this.type=ae.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Td=class{constructor(t){this.snapshot=t,this.type=ae.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ad=class{constructor(t){this.snapshot=t,this.type=ae.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nd=class{constructor(t){this.snapshot=t,this.type=ae.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fa=class{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=ae.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},no=class{},Hr=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function kT(e,t){return e.providers&&!e._injector&&(e._injector=ma(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Xe(e){return e.outlet||N}function LT(e,t){let n=e.filter(r=>Xe(r)===t);return n.push(...e.filter(r=>Xe(r)!==t)),n}function lo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Md=class{get injector(){return lo(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new uo(this.rootInjector),this.attachRef=null}},uo=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Md(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)(C(Me))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ja=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Rd(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Rd(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=xd(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return xd(t,this._root).map(n=>n.value)}};function Rd(e,t){if(e===t.value)return t;for(let n of t.children){let r=Rd(e,n);if(r)return r}return null}function xd(e,t){if(e===t.value)return[t];for(let n of t.children){let r=xd(e,n);if(r.length)return r.unshift(t),r}return[]}var xe=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ua=class extends ja{constructor(t,n){super(t),this.snapshot=n,$d(this,t)}toString(){return this.snapshot.toString()}};function zy(e){let t=FT(e),n=new ue([new Mn("",{})]),r=new ue({}),i=new ue({}),o=new ue({}),s=new ue(""),a=new Wr(n,r,o,s,i,N,e,t.root);return a.snapshot=t.root,new Ua(new xe(a,[]),t)}function FT(e){let t={},n={},r={},i="",o=new jr([],t,r,i,n,N,e,null,{});return new $a("",new xe(o,[]))}var Wr=class{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(x(l=>l[ao]))??D(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(x(t=>Vr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(x(t=>Vr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Va(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:y(y({},t.params),e.params),data:y(y({},t.data),e.data),resolve:y(y(y(y({},e.data),t.data),i?.data),e._resolvedData)}:r={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},i&&qy(i)&&(r.resolve[ao]=i.title),r}var jr=class{get title(){return this.data?.[ao]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},$a=class extends ja{constructor(t,n){super(n),this.url=t,$d(this,n)}toString(){return Gy(this._root)}};function $d(e,t){t.value._routerState=e,t.children.forEach(n=>$d(e,n))}function Gy(e){let t=e.children.length>0?` { ${e.children.map(Gy).join(", ")} } `:"";return`${e.value}${t}`}function hd(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ft(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ft(t.params,n.params)||e.paramsSubject.next(n.params),uT(t.url,n.url)||e.urlSubject.next(n.url),ft(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Od(e,t){let n=ft(e.params,t.params)&&pT(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Od(e.parent,t.parent))}function qy(e){return typeof e.title=="string"||e.title===null}var Bd=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=N,this.activateEvents=new ve,this.deactivateEvents=new ve,this.attachEvents=new ve,this.detachEvents=new ve,this.parentContexts=m(uo),this.location=m(pa),this.changeDetector=m(Hi),this.inputBinder=m(Ga,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Pd(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=uu({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[na]})}}return e})(),Pd=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Wr?this.route:t===uo?this.childContexts:this.parent.get(t,n)}},Ga=new I(""),by=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ii([r.queryParams,r.params,r.data]).pipe(Le(([o,s,a],c)=>(a=y(y(y({},o),s),a),c===0?D(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=Jv(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function jT(e,t,n){let r=ro(e,t._root,n?n._root:void 0);return new Ua(r,t)}function ro(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=UT(e,t,n);return new xe(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ro(e,a)),s}}let r=VT(t.value),i=t.children.map(o=>ro(e,o));return new xe(r,i)}}function UT(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ro(e,r,i);return ro(e,r)})}function VT(e){return new Wr(new ue(e.url),new ue(e.params),new ue(e.queryParams),new ue(e.fragment),new ue(e.data),e.outlet,e.component,e)}var io=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Yy="ngNavigationCancelingError";function Ba(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Xi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Ky(!1,Oe.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ky(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Yy]=!0,n.cancellationCode=t,n}function $T(e){return Zy(e)&&Xi(e.url)}function Zy(e){return!!e&&e[Yy]}var BT=(e,t,n,r)=>x(i=>(new kd(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),kd=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),hd(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Lr(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Lr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Lr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Lr(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Td(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(hd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hd(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Ha=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ur=class{constructor(t,n){this.component=t,this.route=n}};function HT(e,t,n){let r=e._root,i=t?t._root:null;return Yi(r,i,n,[r.value])}function WT(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Gr(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Lg(e)?e:t.get(e):r}function Yi(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Lr(t);return e.children.forEach(s=>{zT(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ji(a,n.getContext(s),i)),i}function zT(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=GT(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ha(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Yi(e,t,a?a.children:null,r,i):Yi(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ur(a.outlet.component,s))}else s&&Ji(t,a,i),i.canActivateChecks.push(new Ha(r)),o.component?Yi(e,null,a?a.children:null,r,i):Yi(e,null,n,r,i);return i}function GT(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Rn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Rn(e.url,t.url)||!ft(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Od(e,t)||!ft(e.queryParams,t.queryParams);case"paramsChange":default:return!Od(e,t)}}function Ji(e,t,n){let r=Lr(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ji(s,t.children.getContext(o),n):Ji(s,null,n):Ji(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ur(t.outlet.component,i)):n.canDeactivateChecks.push(new Ur(null,i)):n.canDeactivateChecks.push(new Ur(null,i))}function fo(e){return typeof e=="function"}function qT(e){return typeof e=="boolean"}function YT(e){return e&&fo(e.canLoad)}function KT(e){return e&&fo(e.canActivate)}function ZT(e){return e&&fo(e.canActivateChild)}function QT(e){return e&&fo(e.canDeactivate)}function JT(e){return e&&fo(e.canMatch)}function Qy(e){return e instanceof It||e?.name==="EmptyError"}var Na=Symbol("INITIAL_VALUE");function zr(){return Le(e=>Ii(e.map(t=>t.pipe(wt(1),ul(Na)))).pipe(x(t=>{for(let n of t)if(n!==!0){if(n===Na)return Na;if(n===!1||XT(n))return n}return!0}),ke(t=>t!==Na),wt(1)))}function XT(e){return Xi(e)||e instanceof io}function eA(e,t){return ee(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?D(Y(y({},n),{guardsResult:!0})):tA(s,r,i,e).pipe(ee(a=>a&&qT(a)?nA(r,o,e,t):D(a)),x(a=>Y(y({},n),{guardsResult:a})))})}function tA(e,t,n,r){return X(e).pipe(ee(i=>aA(i.component,i.route,n,t,r)),it(i=>i!==!0,!0))}function nA(e,t,n,r){return X(t).pipe(_n(i=>ur(iA(i.route.parent,r),rA(i.route,r),sA(e,i.path,n),oA(e,i.route,n))),it(i=>i!==!0,!0))}function rA(e,t){return e!==null&&t&&t(new Ad(e)),D(!0)}function iA(e,t){return e!==null&&t&&t(new Sd(e)),D(!0)}function oA(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return D(!0);let i=r.map(o=>ms(()=>{let s=lo(t)??n,a=Gr(o,s),c=KT(a)?a.canActivate(t,e):lt(s,()=>a(t,e));return nn(c).pipe(it())}));return D(i).pipe(zr())}function sA(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>WT(s)).filter(s=>s!==null).map(s=>ms(()=>{let a=s.guards.map(c=>{let l=lo(s.node)??n,u=Gr(c,l),d=ZT(u)?u.canActivateChild(r,e):lt(l,()=>u(r,e));return nn(d).pipe(it())});return D(a).pipe(zr())}));return D(o).pipe(zr())}function aA(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return D(!0);let s=o.map(a=>{let c=lo(t)??i,l=Gr(a,c),u=QT(l)?l.canDeactivate(e,t,n,r):lt(c,()=>l(e,t,n,r));return nn(u).pipe(it())});return D(s).pipe(zr())}function cA(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return D(!0);let o=i.map(s=>{let a=Gr(s,e),c=YT(a)?a.canLoad(t,n):lt(e,()=>a(t,n));return nn(c)});return D(o).pipe(zr(),Jy(r))}function Jy(e){return Jc(ne(t=>{if(typeof t!="boolean")throw Ba(e,t)}),x(t=>t===!0))}function lA(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return D(!0);let o=i.map(s=>{let a=Gr(s,e),c=JT(a)?a.canMatch(t,n):lt(e,()=>a(t,n));return nn(c)});return D(o).pipe(zr(),Jy(r))}var oo=class{constructor(t){this.segmentGroup=t||null}},so=class extends Error{constructor(t){super(),this.urlTree=t}};function kr(e){return cr(new oo(e))}function uA(e){return cr(new E(4e3,!1))}function dA(e){return cr(Ky(!1,Oe.GuardRejected))}var Ld=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return D(r);if(i.numberOfChildren>1||!i.children[N])return uA(`${t.redirectTo}`);i=i.children[N]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:g,title:_}=i,A=lt(o,()=>a({params:h,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:_}));if(A instanceof Rt)throw new so(A);n=A}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new so(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Rt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new H(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Fd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fA(e,t,n,r,i){let o=Xy(e,t,n);return o.matched?(r=kT(t,r),lA(r,t,n,i).pipe(x(s=>s===!0?o:y({},Fd)))):D(o)}function Xy(e,t,n){if(t.path==="**")return hA(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?y({},Fd):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||lT)(n,e,t);if(!i)return y({},Fd);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hA(e){return{matched:!0,parameters:e.length>0?xy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Sy(e,t,n,r){return n.length>0&&mA(e,n,r)?{segmentGroup:new H(t,gA(r,new H(n,e.children))),slicedSegments:[]}:n.length===0&&vA(e,n,r)?{segmentGroup:new H(e.segments,pA(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new H(e.segments,e.children),slicedSegments:n}}function pA(e,t,n,r){let i={};for(let o of n)if(qa(e,t,o)&&!r[Xe(o)]){let s=new H([],{});i[Xe(o)]=s}return y(y({},r),i)}function gA(e,t){let n={};n[N]=t;for(let r of e)if(r.path===""&&Xe(r)!==N){let i=new H([],{});n[Xe(r)]=i}return n}function mA(e,t,n){return n.some(r=>qa(e,t,r)&&Xe(r)!==N)}function vA(e,t,n){return n.some(r=>qa(e,t,r))}function qa(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function yA(e,t,n){return t.length===0&&!e.children[n]}var jd=class{};function _A(e,t,n,r,i,o,s="emptyOnly"){return new Ud(e,t,n,r,i,s,o).recognize()}var IA=31,Ud=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ld(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new E(4002,`'${t.segmentGroup}'`)}recognize(){let t=Sy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(x(({children:n,rootSnapshot:r})=>{let i=new xe(r,n),o=new $a("",i),s=AT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new jr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),N,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,N,n).pipe(x(r=>({children:r,rootSnapshot:n})),Wt(r=>{if(r instanceof so)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oo?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(x(s=>s instanceof xe?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return X(o).pipe(_n(s=>{let a=r.children[s],c=LT(n,s);return this.processSegmentGroup(t,c,a,s,i)}),ll((s,a)=>(s.push(...a),s)),zt(null),cl(),ee(s=>{if(s===null)return kr(r);let a=e_(s);return wA(a),D(a)}))}processSegment(t,n,r,i,o,s,a){return X(n).pipe(_n(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(Wt(l=>{if(l instanceof oo)return D(null);throw l}))),it(c=>!!c),Wt(c=>{if(Qy(c))return yA(r,i,o)?D(new jd):kr(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return Xe(r)!==s&&(s===N||!qa(i,o,r))?kr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):kr(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=Xy(n,i,o);if(!c)return kr(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>IA&&(this.allowRedirects=!1));let h=new jr(o,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Ty(i),Xe(i),i.component??i._loadedComponent??null,i,Ay(i)),g=Va(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let _=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,_).pipe(ee(A=>this.processSegment(t,r,n,A.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=fA(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Le(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Le(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new jr(f,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Ty(r),Xe(r),r.component??r._loadedComponent??null,r,Ay(r)),_=Va(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let{segmentGroup:A,slicedSegments:U}=Sy(n,f,h,l);if(U.length===0&&A.hasChildren())return this.processChildren(u,l,A,g).pipe(x(ge=>new xe(g,ge)));if(l.length===0&&U.length===0)return D(new xe(g,[]));let Z=Xe(r)===o;return this.processSegment(u,l,A,U,Z?N:o,!0,g).pipe(x(ge=>new xe(g,ge instanceof xe?[ge]:[])))}))):kr(n)))}getChildConfig(t,n,r){return n.children?D({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?D({routes:n._loadedRoutes,injector:n._loadedInjector}):cA(t,n,r,this.urlSerializer).pipe(ee(i=>i?this.configLoader.loadChildren(t,n).pipe(ne(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):dA(n))):D({routes:[],injector:t})}};function wA(e){e.sort((t,n)=>t.value.outlet===N?-1:n.value.outlet===N?1:t.value.outlet.localeCompare(n.value.outlet))}function EA(e){let t=e.value.routeConfig;return t&&t.path===""}function e_(e){let t=[],n=new Set;for(let r of e){if(!EA(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=e_(r.children);t.push(new xe(r.value,i))}return t.filter(r=>!n.has(r))}function Ty(e){return e.data||{}}function Ay(e){return e.resolve||{}}function CA(e,t,n,r,i,o){return ee(s=>_A(e,t,n,r,s.extractedUrl,i,o).pipe(x(({state:a,tree:c})=>Y(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function DA(e,t){return ee(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return D(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of t_(c))s.add(l);let a=0;return X(s).pipe(_n(c=>o.has(c)?bA(c,r,e,t):(c.data=Va(c,c.parent,e).resolve,D(void 0))),ne(()=>a++),dr(1),ee(c=>a===s.size?D(n):Ae))})}function t_(e){let t=e.children.map(n=>t_(n)).flat();return[e,...t]}function bA(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!qy(i)&&(o[ao]=i.title),SA(o,e,t,r).pipe(x(s=>(e._resolvedData=s,e.data=Va(e,e.parent,n).resolve,null)))}function SA(e,t,n,r){let i=md(e);if(i.length===0)return D({});let o={};return X(i).pipe(ee(s=>TA(e[s],t,n,r).pipe(it(),ne(a=>{if(a instanceof io)throw Ba(new $r,a);o[s]=a}))),dr(1),al(o),Wt(s=>Qy(s)?Ae:cr(s)))}function TA(e,t,n,r){let i=lo(t)??r,o=Gr(e,i),s=o.resolve?o.resolve(t,n):lt(i,()=>o(t,n));return nn(s)}function pd(e){return Le(t=>{let n=e(t);return n?X(n).pipe(x(()=>t)):D(t)})}var n_=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===N);return r}getResolvedTitleForRoute(n){return n.data[ao]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>m(AA),providedIn:"root"})}}return e})(),AA=(()=>{class e extends n_{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(C(_y))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ho=new I("",{providedIn:"root",factory:()=>({})}),NA=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Js({type:e,selectors:[["ng-component"]],standalone:!0,features:[Vv],decls:1,vars:0,template:function(r,i){r&1&&De(0,"router-outlet")},dependencies:[Bd],encapsulation:2})}}return e})();function Hd(e){let t=e.children&&e.children.map(Hd),n=t?Y(y({},e),{children:t}):y({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==N&&(n.component=NA),n}var Wa=new I(""),Wd=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=m(Ca)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return D(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=nn(n.loadComponent()).pipe(x(r_),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),wi(()=>{this.componentLoaders.delete(n)})),i=new ir(r,()=>new me).pipe(rr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return D({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=MA(r,this.compiler,n,this.onLoadEndListener).pipe(wi(()=>{this.childrenLoaders.delete(r)})),s=new ir(o,()=>new me).pipe(rr());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function MA(e,t,n,r){return nn(e.loadChildren()).pipe(x(r_),ee(i=>i instanceof Pi||Array.isArray(i)?D(i):X(t.compileModuleAsync(i))),x(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Wa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Hd),injector:o}}))}function RA(e){return e&&typeof e=="object"&&"default"in e}function r_(e){return RA(e)?e.default:e}var zd=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>m(xA),providedIn:"root"})}}return e})(),xA=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),i_=new I(""),o_=new I("");function OA(e,t,n){let r=e.get(o_),i=e.get(be);return e.get(L).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),PA(e))),{onViewTransitionCreated:c}=r;return c&&lt(e,()=>c({transition:a,from:t,to:n})),s})}function PA(e){return new Promise(t=>{Bu({read:()=>setTimeout(t)},{injector:e})})}var kA=new I(""),Gd=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me,this.transitionAbortSubject=new me,this.configLoader=m(Wd),this.environmentInjector=m(Me),this.urlSerializer=m(co),this.rootContexts=m(uo),this.location=m(Pr),this.inputBindingEnabled=m(Ga,{optional:!0})!==null,this.titleStrategy=m(n_),this.options=m(ho,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=m(zd),this.createViewTransition=m(i_,{optional:!0}),this.navigationErrorHandler=m(kA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>D(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Dd(i)),r=i=>this.events.next(new bd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Y(y(y({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new ue({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qi,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ke(o=>o.id!==0),x(o=>Y(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Le(o=>{let s=!1,a=!1;return D(o).pipe(Le(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Oe.SupersededByNewNavigation),Ae;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Y(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new tn(c.id,this.urlSerializer.serialize(c.rawUrl),d,ka.IgnoredSameUrlNavigation)),c.resolve(!1),Ae}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return D(c).pipe(Le(d=>{let f=this.transitions?.getValue();return this.events.next(new Br(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Ae:Promise.resolve(d)}),CA(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Y(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new La(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:g,extras:_}=c,A=new Br(d,this.urlSerializer.serialize(f),h,g);this.events.next(A);let U=zy(this.rootComponentType).snapshot;return this.currentTransition=o=Y(y({},c),{targetSnapshot:U,urlAfterRedirects:f,extras:Y(y({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,D(o)}else{let d="";return this.events.next(new tn(c.id,this.urlSerializer.serialize(c.extractedUrl),d,ka.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ae}}),ne(c=>{let l=new Id(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),x(c=>(this.currentTransition=o=Y(y({},c),{guards:HT(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),eA(this.environmentInjector,c=>this.events.next(c)),ne(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Ba(this.urlSerializer,c.guardsResult);let l=new wd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ke(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Oe.GuardRejected),!1)),pd(c=>{if(c.guards.canActivateChecks.length)return D(c).pipe(ne(l=>{let u=new Ed(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Le(l=>{let u=!1;return D(l).pipe(DA(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Oe.NoDataFromResolver)}}))}),ne(l=>{let u=new Cd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),pd(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ne(f=>{u.component=f}),x(()=>{})));for(let f of u.children)d.push(...l(f));return d};return Ii(l(c.targetSnapshot.root)).pipe(zt(null),wt(1))}),pd(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?X(u).pipe(x(()=>o)):D(o)}),x(c=>{let l=jT(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Y(y({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ne(()=>{this.events.next(new no)}),BT(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),wt(1),ne({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),dl(this.transitionAbortSubject.pipe(ne(c=>{throw c}))),wi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Oe.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wt(c=>{if(a=!0,Zy(c))this.events.next(new Mt(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),$T(c)?this.events.next(new Hr(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new to(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=lt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof io){let{message:d,cancellationCode:f}=Ba(this.urlSerializer,u);this.events.next(new Mt(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new Hr(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ae}))}))}cancelNavigationTransition(n,r,i){let o=new Mt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function LA(e){return e!==Qi}var FA=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>m(jA),providedIn:"root"})}}return e})(),Vd=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},jA=(()=>{class e extends Vd{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Eu(e)))(i||e)}})()}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),s_=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>m(UA),providedIn:"root"})}}return e})(),UA=(()=>{class e extends s_{constructor(){super(...arguments),this.location=m(Pr),this.urlSerializer=m(co),this.options=m(ho,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=m(zd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Br)this.stateMemento=this.createStateMemento();else if(n instanceof tn)this.rawUrlTree=r.initialUrl;else if(n instanceof La){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof no?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Mt&&(n.code===Oe.GuardRejected||n.code===Oe.NoDataFromResolver)?this.restoreHistory(r):n instanceof to?this.restoreHistory(r,!0):n instanceof xt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Rt?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=y(y({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=y(y({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Eu(e)))(i||e)}})()}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ki=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ki||{});function a_(e,t){e.events.pipe(ke(n=>n instanceof xt||n instanceof Mt||n instanceof to||n instanceof tn),x(n=>n instanceof xt||n instanceof tn?Ki.COMPLETE:(n instanceof Mt?n.code===Oe.Redirect||n.code===Oe.SupersededByNewNavigation:!1)?Ki.REDIRECTING:Ki.FAILED),ke(n=>n!==Ki.REDIRECTING),wt(1)).subscribe(()=>{t()})}function VA(e){throw e}var $A={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=m(_a),this.stateManager=m(s_),this.options=m(ho,{optional:!0})||{},this.pendingTasks=m(xr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=m(Gd),this.urlSerializer=m(co),this.location=m(Pr),this.urlHandlingStrategy=m(zd),this._events=new me,this.errorHandler=this.options.errorHandler||VA,this.navigated=!1,this.routeReuseStrategy=m(FA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=m(Wa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!m(Ga,{optional:!0}),this.eventsSubscription=new J,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mt&&r.code!==Oe.Redirect&&r.code!==Oe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xt)this.navigated=!0;else if(r instanceof Hr){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=y({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||LA(i.source)},s);this.scheduleNavigation(a,Qi,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}WA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=y({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Hd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=$y(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return By(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Xi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Qi,null,r)}navigate(n,r={skipLocationChange:!1}){return HA(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=y({},$A):r===!1?i=y({},BA):i=r,Xi(n))return wy(this.currentUrlTree,n,i);let o=this.parseUrl(n);return wy(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return a_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function HA(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new E(4008,!1)}function WA(e){return!(e instanceof no)&&!(e instanceof Hr)}var za=class{};var zA=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ke(n=>n instanceof xt),_n(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ma(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return X(i).pipe(lr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=D(null);let o=i.pipe(ee(s=>s===null?D(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return X([o,s]).pipe(lr())}else return o})}static{this.\u0275fac=function(r){return new(r||e)(C(xn),C(Ca),C(Me),C(za),C(Wd))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),c_=new I(""),GA=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Br?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof tn&&n.code===ka.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fa&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fa(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){dv()}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function qA(e){return e.routerState.root}function po(e,t){return{\u0275kind:e,\u0275providers:t}}function YA(){let e=m(se);return t=>{let n=e.get(en);if(t!==n.components[0])return;let r=e.get(xn),i=e.get(l_);e.get(qd)===1&&r.initialNavigation(),e.get(u_,null,M.Optional)?.setUpPreloading(),e.get(c_,null,M.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var l_=new I("",{factory:()=>new me}),qd=new I("",{providedIn:"root",factory:()=>1});function KA(){return po(2,[{provide:qd,useValue:0},{provide:Ea,multi:!0,deps:[se],useFactory:t=>{let n=t.get(iy,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=t.get(xn),o=t.get(l_);a_(i,()=>{r(!0)}),t.get(Gd).afterPreactivation=()=>(r(!0),o.closed?D(void 0):o),i.initialNavigation()}))}}])}function ZA(){return po(3,[{provide:Ea,multi:!0,useFactory:()=>{let t=m(xn);return()=>{t.setUpLocationChangeListener()}}},{provide:qd,useValue:2}])}var u_=new I("");function QA(e){return po(0,[{provide:u_,useExisting:zA},{provide:za,useExisting:e}])}function JA(){return po(8,[by,{provide:Ga,useExisting:by}])}function XA(e){let t=[{provide:i_,useValue:OA},{provide:o_,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return po(9,t)}var Ny=new I("ROUTER_FORROOT_GUARD"),eN=[Pr,{provide:co,useClass:$r},xn,uo,{provide:Wr,useFactory:qA,deps:[xn]},Wd,[]],Yd=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[eN,[],{provide:Wa,multi:!0,useValue:n},{provide:Ny,useFactory:iN,deps:[[xn,new Ie,new Hg]]},{provide:ho,useValue:r||{}},r?.useHash?nN():rN(),tN(),r?.preloadingStrategy?QA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?oN(r):[],r?.bindToComponentInputs?JA().\u0275providers:[],r?.enableViewTransitions?XA().\u0275providers:[],sN()]}}static forChild(n){return{ngModule:e,providers:[{provide:Wa,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(C(Ny,8))}}static{this.\u0275mod=Qe({type:e})}static{this.\u0275inj=Ze({})}}return e})();function tN(){return{provide:c_,useFactory:()=>{let e=m(ly),t=m(L),n=m(ho),r=m(Gd),i=m(co);return n.scrollOffset&&e.setOffset(n.scrollOffset),new GA(i,r,e,t,n)}}}function nN(){return{provide:Nn,useClass:sy}}function rN(){return{provide:Nn,useClass:ed}}function iN(e){return"guarded"}function oN(e){return[e.initialNavigation==="disabled"?ZA().\u0275providers:[],e.initialNavigation==="enabledBlocking"?KA().\u0275providers:[]]}var My=new I("");function sN(){return[{provide:My,useFactory:YA},{provide:qu,multi:!0,useExisting:My}]}var cN=[],d_=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Qe({type:e})}static{this.\u0275inj=Ze({imports:[Yd.forRoot(cN),Yd]})}}return e})();var lN=(e,t)=>t.title,uN=()=>({title:"Explore the Docs",link:"https://angular.dev"}),dN=()=>({title:"Learn with Tutorials",link:"https://angular.dev/tutorials"}),fN=()=>({title:"CLI Docs",link:"https://angular.dev/tools/cli"}),hN=()=>({title:"Angular Language Service",link:"https://angular.dev/tools/language-service"}),pN=()=>({title:"Angular DevTools",link:"https://angular.dev/tools/devtools"}),gN=(e,t,n,r,i)=>[e,t,n,r,i];function mN(e,t){if(e&1&&(re(0,"a",21)(1,"span"),va(2),we(),Rr(),re(3,"svg",32),De(4,"path",33),we()()),e&2){let n=t.$implicit;Hu("href",n.link,ev),ua(2),Wu(n.title)}}var f_=(()=>{class e{constructor(){this.title="e-potager"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Js({type:e,selectors:[["app-root"]],decls:39,vars:12,consts:[[1,"main"],[1,"content"],[1,"left-side"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 982 239","fill","none",1,"angular-logo"],["clip-path","url(#a)"],["fill","url(#b)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["fill","url(#c)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["id","c","cx","0","cy","0","r","1","gradientTransform","rotate(118.122 171.182 60.81) scale(205.794)","gradientUnits","userSpaceOnUse"],["stop-color","#FF41F8"],["offset",".707","stop-color","#FF41F8","stop-opacity",".5"],["offset","1","stop-color","#FF41F8","stop-opacity","0"],["id","b","x1","0","x2","982","y1","192","y2","192","gradientUnits","userSpaceOnUse"],["stop-color","#F0060B"],["offset","0","stop-color","#F0070C"],["offset",".526","stop-color","#CC26D5"],["offset","1","stop-color","#7702FF"],["id","a"],["fill","#fff","d","M0 0h982v239H0z"],["role","separator","aria-label","Divider",1,"divider"],[1,"right-side"],[1,"pill-group"],["target","_blank","rel","noopener",1,"pill",3,"href"],[1,"social-links"],["href","https://github.com/angular/angular","aria-label","Github","target","_blank","rel","noopener"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Github"],["d","M12.3047 0C5.50634 0 0 5.50942 0 12.3047C0 17.7423 3.52529 22.3535 8.41332 23.9787C9.02856 24.0946 9.25414 23.7142 9.25414 23.3871C9.25414 23.0949 9.24389 22.3207 9.23876 21.2953C5.81601 22.0377 5.09414 19.6444 5.09414 19.6444C4.53427 18.2243 3.72524 17.8449 3.72524 17.8449C2.61064 17.082 3.81137 17.0973 3.81137 17.0973C5.04697 17.1835 5.69604 18.3647 5.69604 18.3647C6.79321 20.2463 8.57636 19.7029 9.27978 19.3881C9.39052 18.5924 9.70736 18.0499 10.0591 17.7423C7.32641 17.4347 4.45429 16.3765 4.45429 11.6618C4.45429 10.3185 4.9311 9.22133 5.72065 8.36C5.58222 8.04931 5.16694 6.79833 5.82831 5.10337C5.82831 5.10337 6.85883 4.77319 9.2121 6.36459C10.1965 6.09082 11.2424 5.95546 12.2883 5.94931C13.3342 5.95546 14.3801 6.09082 15.3644 6.36459C17.7023 4.77319 18.7328 5.10337 18.7328 5.10337C19.3942 6.79833 18.9789 8.04931 18.8559 8.36C19.6403 9.22133 20.1171 10.3185 20.1171 11.6618C20.1171 16.3888 17.2409 17.4296 14.5031 17.7321C14.9338 18.1012 15.3337 18.8559 15.3337 20.0084C15.3337 21.6552 15.3183 22.978 15.3183 23.3779C15.3183 23.7009 15.5336 24.0854 16.1642 23.9623C21.0871 22.3484 24.6094 17.7341 24.6094 12.3047C24.6094 5.50942 19.0999 0 12.3047 0Z"],["href","https://twitter.com/angular","aria-label","Twitter","target","_blank","rel","noopener"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Twitter"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["href","https://www.youtube.com/channel/UCbn1OgGei-DV7aSRo_HaAiw","aria-label","Youtube","target","_blank","rel","noopener"],["width","29","height","20","viewBox","0 0 29 20","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Youtube"],["fill-rule","evenodd","clip-rule","evenodd","d","M27.4896 1.52422C27.9301 1.96749 28.2463 2.51866 28.4068 3.12258C29.0004 5.35161 29.0004 10 29.0004 10C29.0004 10 29.0004 14.6484 28.4068 16.8774C28.2463 17.4813 27.9301 18.0325 27.4896 18.4758C27.0492 18.9191 26.5 19.2389 25.8972 19.4032C23.6778 20 14.8068 20 14.8068 20C14.8068 20 5.93586 20 3.71651 19.4032C3.11363 19.2389 2.56449 18.9191 2.12405 18.4758C1.68361 18.0325 1.36732 17.4813 1.20683 16.8774C0.613281 14.6484 0.613281 10 0.613281 10C0.613281 10 0.613281 5.35161 1.20683 3.12258C1.36732 2.51866 1.68361 1.96749 2.12405 1.52422C2.56449 1.08095 3.11363 0.76113 3.71651 0.596774C5.93586 0 14.8068 0 14.8068 0C14.8068 0 23.6778 0 25.8972 0.596774C26.5 0.76113 27.0492 1.08095 27.4896 1.52422ZM19.3229 10L11.9036 5.77905V14.221L19.3229 10Z"],["xmlns","http://www.w3.org/2000/svg","height","14","viewBox","0 -960 960 960","width","14","fill","currentColor"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"]],template:function(r,i){r&1&&(re(0,"main",0)(1,"div",1)(2,"div",2),Rr(),re(3,"svg",3)(4,"g",4),De(5,"path",5)(6,"path",6),we(),re(7,"defs")(8,"radialGradient",7),De(9,"stop",8)(10,"stop",9)(11,"stop",10),we(),re(12,"linearGradient",11),De(13,"stop",12)(14,"stop",13)(15,"stop",14)(16,"stop",15),we(),re(17,"clipPath",16),De(18,"path",17),we()()(),Ui(),re(19,"h1"),va(20),we(),re(21,"p"),va(22,"Congratulations! Your app is running. \u{1F389}"),we()(),De(23,"div",18),re(24,"div",19)(25,"div",20),jv(26,mN,5,2,"a",21,lN),we(),re(28,"div",22)(29,"a",23),Rr(),re(30,"svg",24),De(31,"path",25),we()(),Ui(),re(32,"a",26),Rr(),re(33,"svg",27),De(34,"path",28),we()(),Ui(),re(35,"a",29),Rr(),re(36,"svg",30),De(37,"path",31),we()()()()()(),Ui(),De(38,"router-outlet")),r&2&&(ua(20),ya("Hello, ",i.title,""),ua(6),Uv($v(6,gN,Or(1,uN),Or(2,dN),Or(3,fN),Or(4,hN),Or(5,pN))))},dependencies:[Bd],styles:[`[_nghost-%COMP%] {
    --bright-blue: oklch(51.01% 0.274 263.83);
    --electric-violet: oklch(53.18% 0.28 296.97);
    --french-violet: oklch(47.66% 0.246 305.88);
    --vivid-pink: oklch(69.02% 0.277 332.77);
    --hot-red: oklch(61.42% 0.238 15.34);
    --orange-red: oklch(63.32% 0.24 31.68);

    --gray-900: oklch(19.37% 0.006 300.98);
    --gray-700: oklch(36.98% 0.014 302.71);
    --gray-400: oklch(70.9% 0.015 304.04);

    --red-to-pink-to-purple-vertical-gradient: linear-gradient(
      180deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --red-to-pink-to-purple-horizontal-gradient: linear-gradient(
      90deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --pill-accent: var(--bright-blue);

    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1[_ngcontent-%COMP%] {
    font-size: 3.125rem;
    color: var(--gray-900);
    font-weight: 500;
    line-height: 100%;
    letter-spacing: -0.125rem;
    margin: 0;
    font-family: "Inter Tight", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
  }

  p[_ngcontent-%COMP%] {
    margin: 0;
    color: var(--gray-700);
  }

  main[_ngcontent-%COMP%] {
    width: 100%;
    min-height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    box-sizing: inherit;
    position: relative;
  }

  .angular-logo[_ngcontent-%COMP%] {
    max-width: 9.2rem;
  }

  .content[_ngcontent-%COMP%] {
    display: flex;
    justify-content: space-around;
    width: 100%;
    max-width: 700px;
    margin-bottom: 3rem;
  }

  .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {
    margin-top: 1.75rem;
  }

  .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {
    margin-top: 1.5rem;
  }

  .divider[_ngcontent-%COMP%] {
    width: 1px;
    background: var(--red-to-pink-to-purple-vertical-gradient);
    margin-inline: 0.5rem;
  }

  .pill-group[_ngcontent-%COMP%] {
    display: flex;
    flex-direction: column;
    align-items: start;
    flex-wrap: wrap;
    gap: 1.25rem;
  }

  .pill[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    --pill-accent: var(--bright-blue);
    background: color-mix(in srgb, var(--pill-accent) 5%, transparent);
    color: var(--pill-accent);
    padding-inline: 0.75rem;
    padding-block: 0.375rem;
    border-radius: 2.75rem;
    border: 0;
    transition: background 0.3s ease;
    font-family: var(--inter-font);
    font-size: 0.875rem;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4rem;
    letter-spacing: -0.00875rem;
    text-decoration: none;
  }

  .pill[_ngcontent-%COMP%]:hover {
    background: color-mix(in srgb, var(--pill-accent) 15%, transparent);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 1) {
    --pill-accent: var(--bright-blue);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 2) {
    --pill-accent: var(--french-violet);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 3), 
   .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 4), 
   .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 5) {
    --pill-accent: var(--hot-red);
  }

  .pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {
    margin-inline-start: 0.25rem;
  }

  .social-links[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    gap: 0.73rem;
    margin-top: 1.5rem;
  }

  .social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    transition: fill 0.3s ease;
    fill: var(--gray-400);
  }

  .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    fill: var(--gray-900);
  }

  @media screen and (max-width: 650px) {
    .content[_ngcontent-%COMP%] {
      flex-direction: column;
      width: max-content;
    }

    .divider[_ngcontent-%COMP%] {
      height: 1px;
      width: 100%;
      background: var(--red-to-pink-to-purple-horizontal-gradient);
      margin-block: 1.5rem;
    }
  }`]})}}return e})();var Zd={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(e,t){if(!e)throw Pn(t)},Pn=function(e){return new Error("Firebase Database ("+Zd.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var p_=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},vN=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Ka={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(p_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):vN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Qd;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Qd=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xd=function(e){let t=p_(e);return Ka.encodeByteArray(t,!0)},go=function(e){return Xd(e).replace(/\./g,"")},mo=function(e){try{return Ka.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g_(e){return m_(void 0,e)}function m_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!yN(n)||(e[n]=m_(e[n],t[n]));return e}function yN(e){return e!=="__proto__"}function _N(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var IN=()=>_N().__FIREBASE_DEFAULTS__,wN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},EN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&mo(e[1]);return t&&JSON.parse(t)},ef=()=>{try{return IN()||wN()||EN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tf=e=>{var t,n;return(n=(t=ef())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},v_=e=>{let t=tf(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},nf=()=>{var e;return(e=ef())===null||e===void 0?void 0:e.config},rf=e=>{var t;return(t=ef())===null||t===void 0?void 0:t[`_${e}`]};var On=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function y_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[go(JSON.stringify(n)),go(JSON.stringify(s)),""].join(".")}function de(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function __(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I_(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Za(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w_(){let e=de();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ht(){return Zd.NODE_CLIENT===!0||Zd.NODE_ADMIN===!0}function E_(){try{return typeof indexedDB=="object"}catch{return!1}}function C_(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var CN="FirebaseError",et=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=CN,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}},Ot=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?DN(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new et(i,a,r)}};function DN(e,t){return e.replace(bN,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var bN=/\{\$([^}]+)}/g;function qr(e){return JSON.parse(e)}function ce(e){return JSON.stringify(e)}var D_=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=qr(mo(o[0])||""),n=qr(mo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var b_=function(e){let t=D_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},S_=function(e){let t=D_(e).claims;return typeof t=="object"&&t.admin===!0};function pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kn(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function yo(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _o(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Yr(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(h_(o)&&h_(s)){if(!Yr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function h_(e){return e!==null&&typeof e=="object"}function Ln(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var Ya=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function T_(e,t){let n=new Jd(e,t);return n.subscribe.bind(n)}var Jd=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SN(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Kd),i.error===void 0&&(i.error=Kd),i.complete===void 0&&(i.complete=Kd);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function SN(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Kd(){}function A_(e,t){return`${e} failed: ${t} argument `}var N_=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,v(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Io=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var yV=4*60*60*1e3;function gt(e){return e&&e._delegate?e._delegate:e}var Be=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Fn="[DEFAULT]";var Qa=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new On;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AN(t))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Fn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return p(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Fn){return this.instances.has(t)}getOptions(t=Fn){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TN(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Fn){return this.component?this.component.multipleInstances?t:Fn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TN(e){return e===Fn?void 0:e}function AN(e){return e.instantiationMode==="EAGER"}var wo=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Qa(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var NN=[],W=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(W||{}),MN={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},RN=W.INFO,xN={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},ON=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=xN[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},rn=class{constructor(t){this.name=t,this._logLevel=RN,this._logHandler=ON,this._userLogHandler=null,NN.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in W))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...t),this._logHandler(this,W.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...t),this._logHandler(this,W.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,W.INFO,...t),this._logHandler(this,W.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,W.WARN,...t),this._logHandler(this,W.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...t),this._logHandler(this,W.ERROR,...t)}};var PN=(e,t)=>t.some(n=>e instanceof n),M_,R_;function kN(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LN(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var x_=new WeakMap,sf=new WeakMap,O_=new WeakMap,of=new WeakMap,cf=new WeakMap;function FN(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(mt(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&x_.set(n,e)}).catch(()=>{}),cf.set(t,e),t}function jN(e){if(sf.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});sf.set(e,t)}var af={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return sf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||O_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function P_(e){af=e(af)}function UN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Ja(this),t,...n);return O_.set(r,t.sort?t.sort():[t]),mt(r)}:LN().includes(e)?function(...t){return e.apply(Ja(this),t),mt(x_.get(this))}:function(...t){return mt(e.apply(Ja(this),t))}}function VN(e){return typeof e=="function"?UN(e):(e instanceof IDBTransaction&&jN(e),PN(e,kN())?new Proxy(e,af):e)}function mt(e){if(e instanceof IDBRequest)return FN(e);if(of.has(e))return of.get(e);let t=VN(e);return t!==e&&(of.set(e,t),cf.set(t,e)),t}var Ja=e=>cf.get(e);function L_(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=mt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(mt(s.result),c.oldVersion,c.newVersion,mt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var $N=["get","getKey","getAll","getAllKeys","count"],BN=["put","add","delete","clear"],lf=new Map;function k_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(lf.get(t))return lf.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=BN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$N.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return lf.set(t,o),o}P_(e=>Y(y({},e),{get:(t,n,r)=>k_(t,n)||e.get(t,n,r),has:(t,n)=>!!k_(t,n)||e.has(t,n)}));var df=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HN(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function HN(e){let t=e.getComponent();return t?.type==="VERSION"}var ff="@firebase/app",F_="0.10.13";var Pt=new rn("@firebase/app"),WN="@firebase/app-compat",zN="@firebase/analytics-compat",GN="@firebase/analytics",qN="@firebase/app-check-compat",YN="@firebase/app-check",KN="@firebase/auth",ZN="@firebase/auth-compat",QN="@firebase/database",JN="@firebase/data-connect",XN="@firebase/database-compat",eM="@firebase/functions",tM="@firebase/functions-compat",nM="@firebase/installations",rM="@firebase/installations-compat",iM="@firebase/messaging",oM="@firebase/messaging-compat",sM="@firebase/performance",aM="@firebase/performance-compat",cM="@firebase/remote-config",lM="@firebase/remote-config-compat",uM="@firebase/storage",dM="@firebase/storage-compat",fM="@firebase/firestore",hM="@firebase/vertexai-preview",pM="@firebase/firestore-compat",gM="firebase",mM="10.14.1";var hf="[DEFAULT]",vM={[ff]:"fire-core",[WN]:"fire-core-compat",[GN]:"fire-analytics",[zN]:"fire-analytics-compat",[YN]:"fire-app-check",[qN]:"fire-app-check-compat",[KN]:"fire-auth",[ZN]:"fire-auth-compat",[QN]:"fire-rtdb",[JN]:"fire-data-connect",[XN]:"fire-rtdb-compat",[eM]:"fire-fn",[tM]:"fire-fn-compat",[nM]:"fire-iid",[rM]:"fire-iid-compat",[iM]:"fire-fcm",[oM]:"fire-fcm-compat",[sM]:"fire-perf",[aM]:"fire-perf-compat",[cM]:"fire-rc",[lM]:"fire-rc-compat",[uM]:"fire-gcs",[dM]:"fire-gcs-compat",[fM]:"fire-fst",[pM]:"fire-fst-compat",[hM]:"fire-vertex","fire-js":"fire-js",[gM]:"fire-js-all"};var Eo=new Map,yM=new Map,pf=new Map;function j_(e,t){try{e.container.addComponent(t)}catch(n){Pt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function sn(e){let t=e.name;if(pf.has(t))return Pt.debug(`There were multiple attempts to register component ${t}.`),!1;pf.set(t,e);for(let n of Eo.values())j_(n,e);for(let n of yM.values())j_(n,e);return!0}function Do(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kt(e){return e.settings!==void 0}var _M={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},on=new Ot("app","Firebase",_M);var gf=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Be("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}};var an=mM;function yf(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:hf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw on.create("bad-app-name",{appName:String(i)});if(n||(n=nf()),!n)throw on.create("no-options");let o=Eo.get(i);if(o){if(Yr(n,o.options)&&Yr(r,o.config))return o;throw on.create("duplicate-app",{appName:i})}let s=new wo(i);for(let c of pf.values())s.addComponent(c);let a=new gf(n,r,s);return Eo.set(i,a),a}function Kr(e=hf){let t=Eo.get(e);if(!t&&e===hf&&nf())return yf();if(!t)throw on.create("no-app",{appName:e});return t}function Xa(){return Array.from(Eo.values())}function ie(e,t,n){var r;let i=(r=vM[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pt.warn(a.join(" "));return}sn(new Be(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var IM="firebase-heartbeat-database",wM=1,Co="firebase-heartbeat-store",uf=null;function B_(){return uf||(uf=L_(IM,wM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Co)}catch(n){console.warn(n)}}}}).catch(e=>{throw on.create("idb-open",{originalErrorMessage:e.message})})),uf}function EM(e){return p(this,null,function*(){try{let n=(yield B_()).transaction(Co),r=yield n.objectStore(Co).get(H_(e));return yield n.done,r}catch(t){if(t instanceof et)Pt.warn(t.message);else{let n=on.create("idb-get",{originalErrorMessage:t?.message});Pt.warn(n.message)}}})}function U_(e,t){return p(this,null,function*(){try{let r=(yield B_()).transaction(Co,"readwrite");yield r.objectStore(Co).put(t,H_(e)),yield r.done}catch(n){if(n instanceof et)Pt.warn(n.message);else{let r=on.create("idb-set",{originalErrorMessage:n?.message});Pt.warn(r.message)}}})}function H_(e){return`${e.name}!${e.options.appId}`}var CM=1024,DM=30*24*60*60*1e3,mf=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new vf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=V_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=DM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pt.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=V_(),{heartbeatsToSend:r,unsentEntries:i}=bM(this._heartbeatsCache.heartbeats),o=go(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Pt.warn(n),""}})}};function V_(){return new Date().toISOString().substring(0,10)}function bM(e,t=CM){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$_(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var vf=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return E_()?C_().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield EM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return U_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return U_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function $_(e){return go(JSON.stringify({version:2,heartbeats:e})).length}function SM(e){sn(new Be("platform-logger",t=>new df(t),"PRIVATE")),sn(new Be("heartbeat",t=>new mf(t),"PRIVATE")),ie(ff,F_,e),ie(ff,F_,"esm2017"),ie("fire-js","")}SM("");var TM="firebase",AM="10.14.1";ie(TM,AM,"app");var Un=new Jt("ANGULARFIRE2_VERSION");function tc(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var bo=(e,t)=>{let n=t?[t]:Xa(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Qr=class{constructor(){return bo(NM)}},NM="app-check";function Zr(){}var ec=class{zone;delegate;constructor(t,n=il){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},_f=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zr,{},Zr,Zr)),n.pipe(ne({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Jr=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ec(Zone.current)),this.insideAngular=n.run(()=>new ec(Zone.current,rl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||e)(C(L))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nc(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function MM(e){return nc().ngZone.runOutsideAngular(()=>e())}function jn(e){return nc().ngZone.run(()=>e())}function RM(e){return xM(nc())(e)}function xM(e){return function(n){return n=n.lift(new _f(e.ngZone)),n.pipe(Ht(e.outsideAngular),Bt(e.insideAngular))}}var OM=(e,t)=>function(){let r=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),jn(()=>e.apply(void 0,r))},Xr=(e,t)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(t&&(n||=jn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zr,{},Zr,Zr))),r[o]=OM(r[o],n));let i=MM(()=>e.apply(this,r));if(!t)if(i instanceof $){let o=nc();return i.pipe(Ht(o.outsideAngular),Bt(o.insideAngular))}else return jn(()=>i);return i instanceof $?i.pipe(RM):i instanceof Promise?jn(()=>new Promise((o,s)=>i.then(a=>jn(()=>o(a)),a=>jn(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:jn(()=>i)};var Lt=class{constructor(t){return t}},Vn=class{constructor(){return Xa()}};function PM(e){return e&&e.length===1?e[0]:new Lt(Kr())}var If=new I("angularfire2._apps"),kM={provide:Lt,useFactory:PM,deps:[[new Ie,If]]},LM={provide:Vn,deps:[[new Ie,If]]};function FM(e){return(t,n)=>{let r=n.get(dt);ie("angularfire",Un.full,"core"),ie("angularfire",Un.full,"app"),ie("angular",Bv.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new Lt(i)}}function W_(e,...t){return Xt([kM,LM,{provide:If,useFactory:FM(e),multi:!0,deps:[L,se,Jr,...t]}])}var z_=Xr(yf,!0);function sI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var aI=sI,cI=new Ot("auth","Firebase",sI());var cc=new rn("@firebase/auth");function jM(e,...t){cc.logLevel<=W.WARN&&cc.warn(`Auth (${an}): ${e}`,...t)}function ic(e,...t){cc.logLevel<=W.ERROR&&cc.error(`Auth (${an}): ${e}`,...t)}function ln(e,...t){throw Vf(e,...t)}function Bn(e,...t){return Vf(e,...t)}function lI(e,t,n){let r=Object.assign(Object.assign({},aI()),{[t]:n});return new Ot("auth","Firebase",r).create(t,{appName:e.name})}function $n(e){return lI(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vf(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return cI.create(e,...t)}function S(e,t,...n){if(!e)throw Vf(t,...n)}function Ft(e){let t="INTERNAL ASSERTION FAILED: "+e;throw ic(t),new Error(t)}function un(e,t){e||Ft(t)}function Df(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function UM(){return G_()==="http:"||G_()==="https:"}function G_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function VM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UM()||I_()||"connection"in navigator)?navigator.onLine:!0}function $M(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Hn=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,un(n>t,"Short delay should be less than long delay!"),this.isMobile=vo()||Za()}get(){return VM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $f(e,t){un(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var lc=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var BM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var HM=new Hn(3e4,6e4);function Bf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ti(o,s,a,c){return p(this,arguments,function*(e,t,n,r,i={}){return uI(e,i,()=>p(this,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=Ln(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return __()||(h.referrerPolicy="no-referrer"),lc.fetch()(dI(e,e.config.apiHost,n,d),h)}))})}function uI(e,t,n){return p(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},BM),t);try{let i=new bf(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw rc(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw rc(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw rc(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw lI(e,u,l);ln(e,u)}}catch(i){if(i instanceof et)throw i;ln(e,"network-request-failed",{message:String(i)})}})}function WM(o,s,a,c){return p(this,arguments,function*(e,t,n,r,i={}){let l=yield ti(e,t,n,r,i);return"mfaPendingCredential"in l&&ln(e,"multi-factor-auth-required",{_serverResponse:l}),l})}function dI(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?$f(e.config,i):`${e.config.apiScheme}://${i}`}var bf=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bn(this.auth,"network-request-failed")),HM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function rc(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Bn(e,t,r);return i.customData._tokenResponse=n,i}function zM(e,t){return p(this,null,function*(){return ti(e,"POST","/v1/accounts:delete",t)})}function fI(e,t){return p(this,null,function*(){return ti(e,"POST","/v1/accounts:lookup",t)})}function So(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Hf(e,t=!1){return p(this,null,function*(){let n=gt(e),r=yield n.getIdToken(t),i=Wf(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:So(wf(i.auth_time)),issuedAtTime:So(wf(i.iat)),expirationTime:So(wf(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function wf(e){return Number(e)*1e3}function Wf(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{let i=mo(n);return i?JSON.parse(i):(ic("Failed to decode base64 JWT payload"),null)}catch(i){return ic("Caught error parsing JWT payload as JSON",i?.toString()),null}}function q_(e){let t=Wf(e);return S(t,"internal-error"),S(typeof t.exp<"u","internal-error"),S(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Ao(e,t,n=!1){return p(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof et&&GM(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function GM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Sf=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var No=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=So(this.lastLoginAt),this.creationTime=So(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function uc(e){return p(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield Ao(e,fI(n,{idToken:r}));S(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?hI(o.providerUserInfo):[],a=qM(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new No(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function zf(e){return p(this,null,function*(){let t=gt(e);yield uc(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function qM(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function hI(e){return e.map(t=>{var{providerId:n}=t,r=ol(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function YM(e,t){return p(this,null,function*(){let n=yield uI(e,{},()=>p(this,null,function*(){let r=Ln({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=dI(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lc.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function KM(e,t){return p(this,null,function*(){return ti(e,"POST","/v2/accounts:revokeToken",Bf(e,t))})}var To=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){S(t.idToken,"internal-error"),S(typeof t.idToken<"u","internal-error"),S(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):q_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){S(t.length!==0,"internal-error");let n=q_(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(S(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield YM(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(S(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(S(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(S(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Ft("not implemented")}};function cn(e,t){S(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var ei=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=ol(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new No(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return p(this,null,function*(){let n=yield Ao(this,this.stsTokenManager.getToken(this.auth,t));return S(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return Hf(this,t)}reload(){return zf(this)}_assign(t){this!==t&&(S(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return p(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield uc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(kt(this.auth.app))return Promise.reject($n(this.auth));let t=yield this.getIdToken();return yield Ao(this,zM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,U=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Z=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ge,emailVerified:yt,isAnonymous:hn,providerData:Ee,stsTokenManager:_t}=n;S(ge&&_t,t,"internal-error");let mi=To.fromJSON(this.name,_t);S(typeof ge=="string",t,"internal-error"),cn(d,t.name),cn(f,t.name),S(typeof yt=="boolean",t,"internal-error"),S(typeof hn=="boolean",t,"internal-error"),cn(h,t.name),cn(g,t.name),cn(_,t.name),cn(A,t.name),cn(U,t.name),cn(Z,t.name);let vi=new e({uid:ge,auth:t,email:f,emailVerified:yt,displayName:d,isAnonymous:hn,photoURL:g,phoneNumber:h,tenantId:_,stsTokenManager:mi,createdAt:U,lastLoginAt:Z});return Ee&&Array.isArray(Ee)&&(vi.providerData=Ee.map(NE=>Object.assign({},NE))),A&&(vi._redirectEventId=A),vi}static _fromIdTokenResponse(t,n,r=!1){return p(this,null,function*(){let i=new To;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield uc(o),o})}static _fromGetAccountInfoResponse(t,n,r){return p(this,null,function*(){let i=n.users[0];S(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?hI(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new To;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new No(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var Y_=new Map;function jt(e){un(e instanceof Function,"Expected a class definition");let t=Y_.get(e);return t?(un(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Y_.set(e,t),t)}var ZM=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),Tf=ZM;function oc(e,t,n){return`firebase:${e}:${t}:${n}`}var dc=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=oc(this.userKey,i.apiKey,o),this.fullPersistenceKey=oc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return p(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?ei._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return p(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new e(jt(Tf),t,r);let i=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||jt(Tf),s=oc(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=ei._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function K_(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_I(t))return"Blackberry";if(II(t))return"Webos";if(gI(t))return"Safari";if((t.includes("chrome/")||mI(t))&&!t.includes("edge/"))return"Chrome";if(yI(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function pI(e=de()){return/firefox\//i.test(e)}function gI(e=de()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mI(e=de()){return/crios\//i.test(e)}function vI(e=de()){return/iemobile/i.test(e)}function yI(e=de()){return/android/i.test(e)}function _I(e=de()){return/blackberry/i.test(e)}function II(e=de()){return/webos/i.test(e)}function Gf(e=de()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function QM(e=de()){var t;return Gf(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function JM(){return w_()&&document.documentMode===10}function wI(e=de()){return Gf(e)||yI(e)||II(e)||_I(e)||/windows phone/i.test(e)||vI(e)}function EI(e,t=[]){let n;switch(e){case"Browser":n=K_(de());break;case"Worker":n=`${K_(de())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${an}/${r}`}var Af=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return p(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function XM(n){return p(this,arguments,function*(e,t={}){return ti(e,"GET","/v2/passwordPolicy",Bf(e,t))})}var eR=6,Nf=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:eR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Mf=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fc(this),this.idTokenSubscription=new fc(this),this.beforeStateQueue=new Af(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=jt(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield dc.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return p(this,null,function*(){try{let n=yield fI(this,{idToken:t}),r=yield ei._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return p(this,null,function*(){var n;if(kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return p(this,null,function*(){try{yield uc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=$M()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return p(this,null,function*(){if(kt(this.app))return Promise.reject($n(this));let n=t?gt(t):null;return n&&S(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return p(this,null,function*(){if(!this._deleted)return t&&S(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return kt(this.app)?Promise.reject($n(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return kt(this.app)?Promise.reject($n(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(jt(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let t=yield XM(this),n=new Nf(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ot("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield KM(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&jt(t)||this._popupRedirectResolver;S(n,this,"argument-error"),this.redirectPersistenceManager=yield dc.create(this,[jt(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return p(this,null,function*(){if(t===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return p(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=EI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var t;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&jM(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function qf(e){return gt(e)}var fc=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=T_(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Yf={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tR(e){Yf=e}function nR(e){return Yf.loadJS(e)}function rR(){return Yf.gapiScript}function CI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function Kf(e,t){let n=Do(e,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Yr(o,t??{}))return i;ln(i,"already-initialized")}return n.initialize({options:t})}function iR(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(jt);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Zf(e,t,n){let r=qf(e);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=DI(t),{host:s,port:a}=oR(t),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sR()}function DI(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function oR(e){let t=DI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Z_(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Z_(s)}}}function Z_(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function sR(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var hc=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ft("not implemented")}_getIdTokenResponse(t){return Ft("not implemented")}_linkToIdToken(t,n){return Ft("not implemented")}_getReauthenticationResolver(t){return Ft("not implemented")}};function Ef(e,t){return p(this,null,function*(){return WM(e,"POST","/v1/accounts:signInWithIdp",Bf(e,t))})}var pc=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Rf=class extends pc{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Mo=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return p(this,null,function*(){let o=yield ei._fromIdTokenResponse(t,r,i),s=Q_(r);return new e({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(t,n,r){return p(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=Q_(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})})}};function Q_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var xf=class e extends et{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function bI(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(e,o,t,r):o})}function aR(e,t,n=!1){return p(this,null,function*(){let r=yield Ao(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Mo._forOperation(e,"link",r)})}function cR(e,t,n=!1){return p(this,null,function*(){let{auth:r}=e;if(kt(r.app))return Promise.reject($n(r));let i="reauthenticate";try{let o=yield Ao(e,bI(r,i,t,e),n);S(o.idToken,r,"internal-error");let s=Wf(o.idToken);S(s,r,"internal-error");let{sub:a}=s;return S(e.uid===a,r,"user-mismatch"),Mo._forOperation(e,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ln(r,"user-mismatch"),o}})}function lR(e,t,n=!1){return p(this,null,function*(){if(kt(e.app))return Promise.reject($n(e));let r="signIn",i=yield bI(e,r,t),o=yield Mo._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})}function Qf(e,t,n,r){return gt(e).onIdTokenChanged(t,n,r)}function Jf(e,t,n){return gt(e).beforeAuthStateChanged(t,n)}var gc="__sak";var mc=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gc,"1"),this.storage.removeItem(gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var uR=1e3,dR=10,fR=(()=>{class e extends mc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wI(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);JM()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,dR):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield pn(e.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield pn(e.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield pn(e.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return e.type="LOCAL",e})(),SI=fR;var hR=(()=>{class e extends mc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})(),Xf=hR;function pR(e){return Promise.all(e.map(t=>p(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}})))}var gR=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield pR(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function TI(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}var Of=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=TI("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function vt(){return window}function mR(e){vt().location.href=e}function AI(){return typeof vt().WorkerGlobalScope<"u"&&typeof vt().importScripts=="function"}function vR(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function yR(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function _R(){return AI()?self:null}var NI="firebaseLocalStorageDb",IR=1,vc="firebaseLocalStorage",MI="fbase_key",Wn=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function _c(e,t){return e.transaction([vc],t?"readwrite":"readonly").objectStore(vc)}function wR(){let e=indexedDB.deleteDatabase(NI);return new Wn(e).toPromise()}function Pf(){let e=indexedDB.open(NI,IR);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(vc,{keyPath:MI})}catch(i){n(i)}}),e.addEventListener("success",()=>p(this,null,function*(){let r=e.result;r.objectStoreNames.contains(vc)?t(r):(r.close(),yield wR(),t(yield Pf()))}))})}function J_(e,t,n){return p(this,null,function*(){let r=_c(e,!0).put({[MI]:t,value:n});return new Wn(r).toPromise()})}function ER(e,t){return p(this,null,function*(){let n=_c(e,!1).get(t),r=yield new Wn(n).toPromise();return r===void 0?null:r.value})}function X_(e,t){let n=_c(e,!0).delete(t);return new Wn(n).toPromise()}var CR=800,DR=3,bR=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Pf(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>DR)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return AI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=gR._getInstance(_R()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield vR(),!this.activeServiceWorker)return;this.sender=new Of(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||yR()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Pf();return yield J_(n,gc,"1"),yield X_(n,gc),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>J_(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>ER(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>X_(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=_c(o,!1).getAll();return new Wn(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),RI=bR;var h8=CI("rcb"),p8=new Hn(3e4,6e4);function SR(e,t){return t?jt(t):(S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Ro=class extends hc{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ef(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ef(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ef(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function TR(e){return lR(e.auth,new Ro(e),e.bypassAuthState)}function AR(e){let{auth:t,user:n}=e;return S(n,t,"internal-error"),cR(n,new Ro(e),e.bypassAuthState)}function NR(e){return p(this,null,function*(){let{auth:t,user:n}=e;return S(n,t,"internal-error"),aR(n,new Ro(e),e.bypassAuthState)})}var kf=class{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>p(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TR;case"linkViaPopup":case"linkViaRedirect":return NR;case"reauthViaPopup":case"reauthViaRedirect":return AR;default:ln(this.auth,"internal-error")}}resolve(t){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var g8=new Hn(2e3,1e4);var MR="pendingRedirect",sc=new Map,Lf=class e extends kf{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let t=sc.get(this.auth._key());if(!t){try{let r=(yield RR(this.resolver,this.auth))?yield pn(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}sc.set(this.auth._key(),t)}return this.bypassAuthState||sc.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return p(this,null,function*(){if(t.type==="signInViaRedirect")return pn(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,pn(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function RR(e,t){return p(this,null,function*(){let n=PR(t),r=OR(e);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function xR(e,t){sc.set(e._key(),t)}function OR(e){return jt(e._redirectPersistence)}function PR(e){return oc(MR,e.config.apiKey,e.name)}function kR(e,t,n=!1){return p(this,null,function*(){if(kt(e.app))return Promise.reject($n(e));let r=qf(e),i=SR(r,t),s=yield new Lf(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})}var LR=10*60*1e3,Ff=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!FR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!xI(t)){let i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=LR&&this.cachedEventUids.clear(),this.cachedEventUids.has(eI(t))}saveEventToCache(t){this.cachedEventUids.add(eI(t)),this.lastProcessedEventTime=Date.now()}};function eI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xI({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function FR(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xI(e);default:return!1}}function jR(n){return p(this,arguments,function*(e,t={}){return ti(e,"GET","/v1/projects",t)})}var UR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VR=/^https?/;function $R(e){return p(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield jR(e);for(let n of t)try{if(BR(n))return}catch{}ln(e,"unauthorized-domain")})}function BR(e){let t=Df(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!VR.test(n))return!1;if(UR.test(e))return r===e;let i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var HR=new Hn(3e4,6e4);function tI(){let e=vt().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function WR(e){return new Promise((t,n)=>{var r,i,o;function s(){tI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tI(),n(Bn(e,"network-request-failed"))},timeout:HR.get()})}if(!((i=(r=vt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=vt().gapi)===null||o===void 0)&&o.load)s();else{let a=CI("iframefcb");return vt()[a]=()=>{gapi.load?s():n(Bn(e,"network-request-failed"))},nR(`${rR()}?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw ac=null,t})}var ac=null;function zR(e){return ac=ac||WR(e),ac}var GR=new Hn(5e3,15e3),qR="__/auth/iframe",YR="emulator/auth/iframe",KR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QR(e){let t=e.config;S(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?$f(t,YR):`https://${e.config.authDomain}/${qR}`,r={apiKey:t.apiKey,appName:e.name,v:an},i=ZR.get(e.config.apiHost);i&&(r.eid=i);let o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ln(r).slice(1)}`}function JR(e){return p(this,null,function*(){let t=yield zR(e),n=vt().gapi;return S(n,e,"internal-error"),t.open({where:document.body,url:QR(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KR,dontclear:!0},r=>new Promise((i,o)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Bn(e,"network-request-failed"),a=vt().setTimeout(()=>{o(s)},GR.get());function c(){vt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var XR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e1=500,t1=600,n1="_blank",r1="http://localhost",yc=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function i1(e,t,n,r=e1,i=t1){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},XR),{width:r.toString(),height:i.toString(),top:o,left:s}),l=de().toLowerCase();n&&(a=mI(l)?n1:n),pI(l)&&(t=t||r1,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(QM(l)&&a!=="_self")return o1(t||"",a),new yc(null);let d=window.open(t||"",a,u);S(d,e,"popup-blocked");try{d.focus()}catch{}return new yc(d)}function o1(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var s1="__/auth/handler",a1="emulator/auth/handler",c1=encodeURIComponent("fac");function nI(e,t,n,r,i,o){return p(this,null,function*(){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:an,eventId:i};if(t instanceof pc){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",yo(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof Rf){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield e._getAppCheckToken(),l=c?`#${c1}=${encodeURIComponent(c)}`:"";return`${l1(e)}?${Ln(a).slice(1)}${l}`})}function l1({config:e}){return e.emulator?$f(e,a1):`https://${e.authDomain}/${s1}`}var Cf="webStorageSupport",jf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xf,this._completeRedirectFn=kR,this._overrideRedirectResult=xR}_openPopup(t,n,r,i){return p(this,null,function*(){var o;un((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield nI(t,n,r,Df(),i);return i1(t,s,TI())})}_openRedirect(t,n,r,i){return p(this,null,function*(){yield this._originValidation(t);let o=yield nI(t,n,r,Df(),i);return mR(o),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(un(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){return p(this,null,function*(){let n=yield JR(t),r=new Ff(t);return n.register("authEvent",i=>(S(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cf,{type:Cf},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Cf];s!==void 0&&n(!!s),ln(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$R(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return wI()||gI()||Gf()}},OI=jf;var rI="@firebase/auth",iI="1.7.9";var Uf=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function u1(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d1(e){sn(new Be("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;S(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EI(e)},l=new Mf(r,i,o,c);return iR(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),sn(new Be("auth-internal",t=>{let n=qf(t.getProvider("auth").getImmediate());return(r=>new Uf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ie(rI,iI,u1(e)),ie(rI,iI,"esm2017")}var f1=5*60,h1=rf("authIdTokenMaxAge")||f1,oI=null,p1=e=>t=>p(void 0,null,function*(){let n=t&&(yield t.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h1)return;let i=n?.token;oI!==i&&(oI=i,yield fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function eh(e=Kr()){let t=Do(e,"auth");if(t.isInitialized())return t.getImmediate();let n=Kf(e,{popupRedirectResolver:OI,persistence:[RI,SI,Xf]}),r=rf("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=p1(o.toString());Jf(n,s,()=>s(n.currentUser)),Qf(n,a=>s(a))}}let i=tf("auth");return i&&Zf(n,`http://${i}`),n}function g1(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}tR({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=Bn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",g1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d1("Browser");var PI="auth",xo=class{constructor(t){return t}},Oo=class{constructor(){return bo(PI)}};var th=new I("angularfire2.auth-instances");function lx(e,t){let n=tc(PI,e,t);return n&&new xo(n)}function ux(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new xo(r)}}var dx={provide:Oo,deps:[[new Ie,th]]},fx={provide:xo,useFactory:lx,deps:[[new Ie,th],Lt]};function kI(e,...t){return ie("angularfire",Un.full,"auth"),Xt([fx,dx,{provide:th,useFactory:ux(e),multi:!0,deps:[L,se,Jr,Vn,[new Ie,Qr],...t]}])}var LI=Xr(eh,!0);var FI="@firebase/database",jI="1.0.8";var Xh="";function hx(e){Xh=e}var lh=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ce(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:qr(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var uh=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return pt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var mw=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lh(t)}}catch{}return new uh},Gn=mw("localStorage"),dh=mw("sessionStorage");var oi=new rn("@firebase/database"),px=function(){let e=1;return function(){return e++}}(),vw=function(e){let t=N_(e),n=new Ya;n.update(t);let r=n.digest();return Ka.encodeByteArray(r)},Go=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Go.apply(null,r):typeof r=="object"?t+=ce(r):t+=r,t+=" "}return t},qn=null,UI=!0,gx=function(e,t){v(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(oi.logLevel=W.VERBOSE,qn=oi.log.bind(oi),t&&dh.set("logging_enabled",!0)):typeof e=="function"?qn=e:(qn=null,dh.remove("logging_enabled"))},fe=function(...e){if(UI===!0&&(UI=!1,qn===null&&dh.get("logging_enabled")===!0&&gx(!0)),qn){let t=Go.apply(null,e);qn(t)}},qo=function(e){return function(...t){fe(e,...t)}},fh=function(...e){let t="FIREBASE INTERNAL ERROR: "+Go(...e);oi.error(t)},Vt=function(...e){let t=`FIREBASE FATAL ERROR: ${Go(...e)}`;throw oi.error(t),new Error(t)},Pe=function(...e){let t="FIREBASE WARNING: "+Go(...e);oi.warn(t)},mx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yw=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vx=function(e){if(ht()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ai="[MIN_NAME]",Yn="[MAX_NAME]",pi=function(e,t){if(e===t)return 0;if(e===ai||t===Yn)return-1;if(t===ai||e===Yn)return 1;{let n=VI(e),r=VI(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},yx=function(e,t){return e===t?0:e<t?-1:1},Po=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ce(t))},ep=function(e){if(typeof e!="object"||e===null)return ce(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ce(t[r]),n+=":",n+=ep(e[t[r]]);return n+="}",n},_w=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ze(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Iw=function(e){v(!yw(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},_x=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ix=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var wx=new RegExp("^-?(0*)\\d{1,10}$"),Ex=-2147483648,Cx=2147483647,VI=function(e){if(wx.test(e)){let t=Number(e);if(t>=Ex&&t<=Cx)return t}return null},Yo=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw Pe("Exception was thrown by user callback.",n),t},Math.floor(0))}},Dx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uo=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var hh=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Pe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var ph=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pe(t)}},Vo=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),wc="5",ww="v",Ew="s",Cw="r",Dw="f",bw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Sw="ls",Tw="p",gh="ac",Aw="websocket",Nw="long_polling";var Ec=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function bx(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Mw(e,t,n){v(typeof t=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let r;if(t===Aw)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Nw)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);bx(e)&&(n.ns=e.namespace);let i=[];return ze(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var mh=class{constructor(){this.counters_={}}incrementCounter(t,n=1){pt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return g_(this.counters_)}};var nh={},rh={};function tp(e){let t=e.toString();return nh[t]||(nh[t]=new mh),nh[t]}function Sx(e,t){let n=e.toString();return rh[n]||(rh[n]=t()),rh[n]}var vh=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Yo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var $I="start",Tx="close",Ax="pLPCommand",Nx="pRTLPCB",Rw="id",xw="pw",Ow="ser",Mx="cb",Rx="seg",xx="ts",Ox="d",Px="dframe",Pw=1870,kw=30,kx=Pw-kw,Lx=25e3,Fx=3e4,yh=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qo(t),this.stats_=tp(n),this.urlFn=c=>(this.appCheckToken&&(c[gh]=this.appCheckToken),Mw(n,Nw,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vh(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Fx)),vx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _h((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===$I)this.id=a,this.password=c;else if(s===Tx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[$I]="t",r[Ow]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Mx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ww]=wc,this.transportSessionId&&(r[Ew]=this.transportSessionId),this.lastSessionId&&(r[Sw]=this.lastSessionId),this.applicationId&&(r[Tw]=this.applicationId),this.appCheckToken&&(r[gh]=this.appCheckToken),typeof location<"u"&&location.hostname&&bw.test(location.hostname)&&(r[Cw]=Dw);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return ht()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_x()&&!Ix()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ce(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Xd(n),i=_w(r,kx);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(ht())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Px]="t",r[Rw]=t,r[xw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ce(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},_h=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ht())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=px(),window[Ax+this.uniqueCallbackIdentifier]=t,window[Nx+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){fe("frame writing exception"),a.stack&&fe(a.stack),fe(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||fe("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[Rw]=this.myID,t[xw]=this.myPW,t[Ow]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kw+r.length<=Pw;){let s=this.pendingSegs.shift();r=r+"&"+Rx+i+"="+s.seg+"&"+xx+i+"="+s.ts+"&"+Ox+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Lx)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){ht()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{fe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var jx=16384,Ux=45e3,Cc=null;typeof MozWebSocket<"u"?Cc=MozWebSocket:typeof WebSocket<"u"&&(Cc=WebSocket);var ko=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qo(this.connId),this.stats_=tp(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[ww]=wc,!ht()&&typeof location<"u"&&location.hostname&&bw.test(location.hostname)&&(a[Cw]=Dw),r&&(a[Ew]=r),i&&(a[Sw]=i),o&&(a[gh]=o),s&&(a[Tw]=s),Mw(n,Aw,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gn.set("previous_websocket_failure",!0);try{let i;if(ht()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${wc}/${Xh}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Cc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Cc!==null&&!e.forceDisallow_}static previouslyFailed(){return Gn.isInMemoryStorage||Gn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gn.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=qr(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ce(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=_w(r,jx);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ux))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),Vx=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[yh,ko]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ko&&ko.isAvailable(),i=r&&!ko.previouslyFailed();if(n.webSocketOnly&&(r||Pe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ko];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),$x=6e4,Bx=5e3,Hx=10*1024,Wx=100*1024,ih="t",BI="d",zx="s",HI="r",Gx="e",WI="o",zI="a",GI="n",qI="p",qx="h",Ih=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qo("c:"+this.id+":"),this.transportManager_=new Vx(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Uo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Wx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Hx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ih in t){let n=t[ih];n===zI?this.upgradeIfSecondaryHealthy_():n===HI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===WI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Po("t",t),r=Po("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:GI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Po("t",t),r=Po("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Po(ih,t);if(BI in t){let r=t[BI];if(n===qx){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===GI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zx?this.onConnectionShutdown_(r):n===HI?this.onReset_(r):n===Gx?fh("Server Error: "+r):n===WI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fh("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wc!==r&&Pe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Uo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($x))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Bx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qI,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Dc=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var bc=class{constructor(t){this.allowedEvents_=t,this.listeners_={},v(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){v(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Sc=class e extends bc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return v(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var YI=32,KI=768,q=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function z(){return new q("")}function F(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function fn(e){return e.pieces_.length-e.pieceNum_}function K(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new q(e.pieces_,t)}function Lw(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Yx(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Fw(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function jw(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new q(t,0)}function le(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof q)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new q(n,0)}function O(e){return e.pieceNum_>=e.pieces_.length}function He(e,t){let n=F(e),r=F(t);if(n===null)return t;if(n===r)return He(K(e),K(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Uw(e,t){if(fn(e)!==fn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(fn(e)>fn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var wh=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Fw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Io(this.parts_[r]);Vw(this)}};function Kx(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Io(t),Vw(e)}function Zx(e){let t=e.parts_.pop();e.byteLength_-=Io(t),e.parts_.length>0&&(e.byteLength_-=1)}function Vw(e){if(e.byteLength_>KI)throw new Error(e.errorPrefix_+"has a key path longer than "+KI+" bytes ("+e.byteLength_+").");if(e.parts_.length>YI)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+YI+") or object contains a cycle "+zn(e))}function zn(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Eh=class e extends bc{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new e}getInitialEvent(t){return v(t==="visible","Unknown event type: "+t),[this.visible_]}};var Lo=1e3,Qx=60*5*1e3,ZI=30*1e3,Jx=1.3,Xx=3e4,eO="server_kill",QI=3,np=(()=>{class e extends Dc{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=qo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lo,this.maxReconnectDelay_=Qx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ht())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Eh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Sc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ce(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new On,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&pt(n,"w")){let i=kn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Pe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||S_(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ZI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=b_(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ce(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):fh("Unrecognized action received from server: "+ce(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Lo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Xx&&(this.reconnectDelay_=Lo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Jx)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){v(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?fe("getToken() completed but was canceled"):(fe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Ih(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{Pe(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(eO)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Pe(f),l())}}})}interrupt(n){fe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){fe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],yo(this.interruptReasons_)&&(this.reconnectDelay_=Lo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>ep(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new q(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){fe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=QI&&(this.reconnectDelay_=ZI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){fe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=QI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";ht()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xh.replace(/\./g,"-")]=1,vo()?n["framework.cordova"]=1:Za()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Sc.getInstance().currentlyOnline();return yo(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),j=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var ci=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new j(ai,t),i=new j(ai,n);return this.compare(r,i)!==0}minPost(){return j.MIN}};var Ic,Tc=class extends ci{static get __EMPTY_NODE(){return Ic}static set __EMPTY_NODE(t){Ic=t}compare(t,n){return pi(t.name,n.name)}isDefinedOn(t){throw Pn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return j.MIN}maxPost(){return new j(Yn,Ic)}makePost(t,n){return v(typeof t=="string","KeyIndex indexValue must always be a string."),new j(t,Ic)}toString(){return".key"}},si=new Tc;var ri=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},tt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??We.EMPTY_NODE,this.right=s??We.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return We.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return We.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Ch=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new tt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},We=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,tt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,tt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ri(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ri(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ri(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ri(this.root_,null,this.comparator_,!0,t)}};We.EMPTY_NODE=new Ch;function tO(e,t){return pi(e.name,t.name)}function rp(e,t){return pi(e,t)}var Dh;function nO(e){Dh=e}var $w=function(e){return typeof e=="number"?"number:"+Iw(e):"string:"+e},Bw=function(e){if(e.isLeafNode()){let t=e.val();v(typeof t=="string"||typeof t=="number"||typeof t=="object"&&pt(t,".sv"),"Priority must be a string or number.")}else v(e===Dh||e.isEmpty(),"priority of unexpected type.");v(e===Dh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var JI,li=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Bw(this.priorityNode_)}static set __childrenNodeConstructor(n){JI=n}static get __childrenNodeConstructor(){return JI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return O(n)?this:F(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=F(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(v(i!==".priority"||fn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(K(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+$w(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=Iw(this.value_):n+=this.value_,this.lazyHash_=vw(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return v(o>=0,"Unknown leaf type: "+r),v(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),Hw,Ww;function rO(e){Hw=e}function iO(e){Ww=e}var bh=class extends ci{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?pi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Yn,new li("[PRIORITY-POST]",Ww))}makePost(t,n){let r=Hw(t);return new j(n,new li("[PRIORITY-POST]",r))}toString(){return".priority"}},pe=new bh;var oO=Math.log(2),Sh=class{constructor(t){let n=o=>parseInt(Math.log(o)/oO,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Ac=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new tt(f,d.node,tt.BLACK,null,null);{let h=parseInt(u/2,10)+c,g=i(c,h),_=i(h+1,l);return d=e[h],f=n?n(d):d,new tt(f,d.node,tt.BLACK,g,_)}},o=function(c){let l=null,u=null,d=e.length,f=function(g,_){let A=d-g,U=d;d-=g;let Z=i(A+1,U),ge=e[A],yt=n?n(ge):ge;h(new tt(yt,ge.node,_,null,Z))},h=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let _=c.nextBitIsOne(),A=Math.pow(2,c.count-(g+1));_?f(A,tt.BLACK):(f(A,tt.BLACK),f(A,tt.RED))}return u},s=new Sh(e.length),a=o(s);return new We(r||t,a)};var oh,ni={},ui=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return v(ni&&pe,"ChildrenNode.ts has not been loaded"),oh=oh||new e({".priority":ni},{".priority":pe}),oh}get(t){let n=kn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof We?n:null}hasIndex(t){return pt(this.indexSet_,t.toString())}addIndex(t,n){v(t!==si,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(j.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Ac(r,t.getCompare()):a=ni;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=_o(this.indexes_,(i,o)=>{let s=kn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),i===ni)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(j.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Ac(a,s.getCompare())}else return ni;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new j(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=_o(this.indexes_,i=>{if(i===ni)return i;{let o=n.get(t.name);return o?i.remove(new j(t.name,o)):i}});return new e(r,this.indexSet_)}};var Fo,Q=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Bw(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fo||(Fo=new e(new We(rp),null,ui.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fo}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Fo:r}}getChild(n){let r=F(n);return r===null?this:this.getImmediateChild(r).getChild(K(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(v(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new j(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Fo:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=F(n);if(i===null)return r;{v(F(n)!==".priority"||fn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(K(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(pe,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+$w(this.getPriority().val())+":"),this.forEachChild(pe,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":vw(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new j(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new j(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new j(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,j.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,j.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ko?-1:0}withIndex(n){if(n===si||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===si||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(pe),o=r.getIterator(pe),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===si?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Th=class extends Q{constructor(){super(new We(rp),Q.EMPTY_NODE,ui.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Q.EMPTY_NODE}isEmpty(){return!1}},Ko=new Th;Object.defineProperties(j,{MIN:{value:new j(ai,Q.EMPTY_NODE)},MAX:{value:new j(Yn,Ko)}});Tc.__EMPTY_NODE=Q.EMPTY_NODE;li.__childrenNodeConstructor=Q;nO(Ko);iO(Ko);var sO=!0;function he(e,t=null){if(e===null)return Q.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),v(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new li(n,he(t))}if(!(e instanceof Array)&&sO){let n=[],r=!1;if(ze(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=he(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new j(s,c)))}}),n.length===0)return Q.EMPTY_NODE;let o=Ac(n,tO,s=>s.name,rp);if(r){let s=Ac(n,pe.getCompare());return new Q(o,he(t),new ui({".priority":s},{".priority":pe}))}else return new Q(o,he(t),ui.Default)}else{let n=Q.EMPTY_NODE;return ze(e,(r,i)=>{if(pt(e,r)&&r.substring(0,1)!=="."){let o=he(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(he(t))}}rO(he);var Ah=class extends ci{constructor(t){super(),this.indexPath_=t,v(!O(t)&&F(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?pi(t.name,n.name):o}makePost(t,n){let r=he(t),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){let t=Q.EMPTY_NODE.updateChild(this.indexPath_,Ko);return new j(Yn,t)}toString(){return Fw(this.indexPath_,0).join("/")}};var Nh=class extends ci{compare(t,n){let r=t.node.compareTo(n.node);return r===0?pi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(t,n){let r=he(t);return new j(n,r)}toString(){return".value"}},aO=new Nh;function cO(e){return{type:"value",snapshotNode:e}}function lO(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function uO(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function XI(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function dO(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Mh=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ai}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function ew(e){let t={};if(e.isDefault())return t;let n;if(e.index_===pe?n="$priority":e.index_===aO?n="$value":e.index_===si?n="$key":(v(e.index_ instanceof Ah,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ce(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=ce(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ce(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ce(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ce(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function tw(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==pe&&(t.i=e.index_.toString()),t}var Rh=class e extends Dc{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=qo("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(v(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=ew(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),kn(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=ew(t._queryParams),r=t._path.toString(),i=new On;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ln(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=qr(a.responseText)}catch{Pe("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Pe("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var xh=class{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Nc(){return{value:null,children:new Map}}function zw(e,t,n){if(O(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=F(t);e.children.has(r)||e.children.set(r,Nc());let i=e.children.get(r);t=K(t),zw(i,t,n)}}function Oh(e,t,n){e.value!==null?n(t,e.value):fO(e,(r,i)=>{let o=new q(t.toString()+"/"+r);Oh(i,o,n)})}function fO(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Ph=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ze(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var nw=10*1e3,hO=30*1e3,pO=5*60*1e3,kh=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ph(t);let r=nw+(hO-nw)*Math.random();Uo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;ze(t,(i,o)=>{o>0&&pt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Uo(this.reportStats_.bind(this),Math.floor(Math.random()*2*pO))}};var Ut=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Ut||{});function Gw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yw(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Lh=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Ut.ACK_USER_WRITE,this.source=Gw()}operationForChild(t){if(O(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new q(t));return new e(z(),n,this.revert)}}else return v(F(this.path)===t,"operationForChild called for unrelated child."),new e(K(this.path),this.affectedTree,this.revert)}};var di=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Ut.OVERWRITE}operationForChild(t){return O(this.path)?new e(this.source,z(),this.snap.getImmediateChild(t)):new e(this.source,K(this.path),this.snap)}};var Mc=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Ut.MERGE}operationForChild(t){if(O(this.path)){let n=this.children.subtree(new q(t));return n.isEmpty()?null:n.value?new di(this.source,z(),n.value):new e(this.source,z(),n)}else return v(F(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,K(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Ho=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(O(t))return this.isFullyInitialized()&&!this.filtered_;let n=F(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};function gO(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(dO(s.childName,s.snapshotNode))}),jo(e,i,"child_removed",t,r,n),jo(e,i,"child_added",t,r,n),jo(e,i,"child_moved",o,r,n),jo(e,i,"child_changed",t,r,n),jo(e,i,"value",t,r,n),i}function jo(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>vO(e,a,c)),s.forEach(a=>{let c=mO(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function mO(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function vO(e,t,n){if(t.childName==null||n.childName==null)throw Pn("Should only compare child_ events.");let r=new j(t.childName,t.snapshotNode),i=new j(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Kw(e,t){return{eventCache:e,serverCache:t}}function $o(e,t,n,r){return Kw(new Ho(t,n,r),e.serverCache)}function Zw(e,t,n,r){return Kw(e.eventCache,new Ho(t,n,r))}function Fh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Kn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var sh,yO=()=>(sh||(sh=new We(yx)),sh),Se=class e{constructor(t,n=yO()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return ze(t,(r,i)=>{n=n.set(new q(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:z(),value:this.value};if(O(t))return null;{let r=F(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(K(t),n);return o!=null?{path:le(new q(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(O(t))return this;{let n=F(t),r=this.children.get(n);return r!==null?r.subtree(K(t)):new e(null)}}set(t,n){if(O(t))return new e(n,this.children);{let r=F(t),o=(this.children.get(r)||new e(null)).set(K(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(O(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=F(t),r=this.children.get(n);if(r){let i=r.remove(K(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(O(t))return this.value;{let n=F(t),r=this.children.get(n);return r?r.get(K(t)):null}}setTree(t,n){if(O(t))return n;{let r=F(t),o=(this.children.get(r)||new e(null)).setTree(K(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(z(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(le(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,z(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(O(t))return null;{let o=F(t),s=this.children.get(o);return s?s.findOnPath_(K(t),le(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,z(),n)}foreachOnPath_(t,n,r){if(O(t))return this;{this.value&&r(n,this.value);let i=F(t),o=this.children.get(i);return o?o.foreachOnPath_(K(t),le(n,i),r):new e(null)}}foreach(t){this.foreach_(z(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(le(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var rt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Se(null))}};function Bo(e,t,n){if(O(t))return new rt(new Se(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=He(i,t);return o=o.updateChild(s,n),new rt(e.writeTree_.set(i,o))}else{let i=new Se(n),o=e.writeTree_.setTree(t,i);return new rt(o)}}}function rw(e,t,n){let r=e;return ze(n,(i,o)=>{r=Bo(r,le(t,i),o)}),r}function iw(e,t){if(O(t))return rt.empty();{let n=e.writeTree_.setTree(t,new Se(null));return new rt(n)}}function jh(e,t){return Zn(e,t)!=null}function Zn(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(He(n.path,t)):null}function ow(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pe,(r,i)=>{t.push(new j(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new j(r,i.value))}),t}function dn(e,t){if(O(t))return e;{let n=Zn(e,t);return n!=null?new rt(new Se(n)):new rt(e.writeTree_.subtree(t))}}function Uh(e){return e.writeTree_.isEmpty()}function fi(e,t){return Qw(z(),e.writeTree_,t)}function Qw(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Qw(le(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(le(e,".priority"),r)),n}}function Jw(e,t){return rE(t,e)}function _O(e,t,n,r,i){v(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Bo(e.visibleWrites,t,n)),e.lastWriteId=r}function IO(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function wO(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);v(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&EO(a,r.path)?i=!1:nt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return CO(e),!0;if(r.snap)e.visibleWrites=iw(e.visibleWrites,r.path);else{let a=r.children;ze(a,c=>{e.visibleWrites=iw(e.visibleWrites,le(r.path,c))})}return!0}else return!1}function EO(e,t){if(e.snap)return nt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&nt(le(e.path,n),t))return!0;return!1}function CO(e){e.visibleWrites=Xw(e.allWrites,DO,z()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function DO(e){return e.visible}function Xw(e,t,n){let r=rt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)nt(n,s)?(a=He(n,s),r=Bo(r,a,o.snap)):nt(s,n)&&(a=He(s,n),r=Bo(r,z(),o.snap.getChild(a)));else if(o.children){if(nt(n,s))a=He(n,s),r=rw(r,a,o.children);else if(nt(s,n))if(a=He(s,n),O(a))r=rw(r,z(),o.children);else{let c=kn(o.children,F(a));if(c){let l=c.getChild(K(a));r=Bo(r,z(),l)}}}else throw Pn("WriteRecord should have .snap or .children")}}return r}function eE(e,t,n,r,i){if(!r&&!i){let o=Zn(e.visibleWrites,t);if(o!=null)return o;{let s=dn(e.visibleWrites,t);if(Uh(s))return n;if(n==null&&!jh(s,z()))return null;{let a=n||Q.EMPTY_NODE;return fi(s,a)}}}else{let o=dn(e.visibleWrites,t);if(!i&&Uh(o))return n;if(!i&&n==null&&!jh(o,z()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(nt(l.path,t)||nt(t,l.path))},a=Xw(e.allWrites,s,t),c=n||Q.EMPTY_NODE;return fi(a,c)}}}function bO(e,t,n){let r=Q.EMPTY_NODE,i=Zn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(pe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=dn(e.visibleWrites,t);return n.forEachChild(pe,(s,a)=>{let c=fi(dn(o,new q(s)),a);r=r.updateImmediateChild(s,c)}),ow(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=dn(e.visibleWrites,t);return ow(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function SO(e,t,n,r,i){v(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=le(t,n);if(jh(e.visibleWrites,o))return null;{let s=dn(e.visibleWrites,o);return Uh(s)?i.getChild(n):fi(s,i.getChild(n))}}function TO(e,t,n,r){let i=le(t,n),o=Zn(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=dn(e.visibleWrites,i);return fi(s,r.getNode().getImmediateChild(n))}else return null}function AO(e,t){return Zn(e.visibleWrites,t)}function NO(e,t,n,r,i,o,s){let a,c=dn(e.visibleWrites,t),l=Zn(c,z());if(l!=null)a=l;else if(n!=null)a=fi(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function MO(){return{visibleWrites:rt.empty(),allWrites:[],lastWriteId:-1}}function Vh(e,t,n,r){return eE(e.writeTree,e.treePath,t,n,r)}function tE(e,t){return bO(e.writeTree,e.treePath,t)}function sw(e,t,n,r){return SO(e.writeTree,e.treePath,t,n,r)}function Rc(e,t){return AO(e.writeTree,le(e.treePath,t))}function RO(e,t,n,r,i,o){return NO(e.writeTree,e.treePath,t,n,r,i,o)}function ip(e,t,n){return TO(e.writeTree,e.treePath,t,n)}function nE(e,t){return rE(le(e.treePath,t),e.writeTree)}function rE(e,t){return{treePath:e,writeTree:t}}var $h=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,XI(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,uO(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,lO(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,XI(r,t.snapshotNode,i.oldSnap));else throw Pn("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Bh=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},iE=new Bh,Wo=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Ho(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ip(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Kn(this.viewCache_),o=RO(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function xO(e,t){v(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function OO(e,t,n,r,i){let o=new $h,s,a;if(n.type===Ut.OVERWRITE){let l=n;l.source.fromUser?s=Hh(e,t,l.path,l.snap,r,i,o):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!O(l.path),s=xc(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Ut.MERGE){let l=n;l.source.fromUser?s=kO(e,t,l.path,l.children,r,i,o):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Wh(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Ut.ACK_USER_WRITE){let l=n;l.revert?s=jO(e,t,l.path,r,i,o):s=LO(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===Ut.LISTEN_COMPLETE)s=FO(e,t,n.path,r,o);else throw Pn("Unknown operation type: "+n.type);let c=o.getChanges();return PO(t,s,c),{viewCache:s,changes:c}}function PO(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Fh(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(cO(Fh(t)))}}function oE(e,t,n,r,i,o){let s=t.eventCache;if(Rc(r,n)!=null)return t;{let a,c;if(O(n))if(v(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Kn(t),u=l instanceof Q?l:Q.EMPTY_NODE,d=tE(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=Vh(r,Kn(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=F(n);if(l===".priority"){v(fn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=sw(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=K(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=sw(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=ip(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return $o(t,a,s.isFullyInitialized()||O(n),e.filter.filtersNodes())}}function xc(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(O(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=F(n);if(!c.isCompleteForPath(n)&&fn(n)>1)return t;let g=K(n),A=c.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?l=u.updatePriority(c.getNode(),A):l=u.updateChild(c.getNode(),h,A,g,iE,null)}let d=Zw(t,l,c.isFullyInitialized()||O(n),u.filtersNodes()),f=new Wo(i,d,o);return oE(e,d,n,i,f,a)}function Hh(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new Wo(i,t,o);if(O(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=$o(t,l,!0,e.filter.filtersNodes());else{let d=F(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=$o(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=K(n),h=a.getNode().getImmediateChild(d),g;if(O(f))g=r;else{let _=u.getCompleteChild(d);_!=null?Lw(f)===".priority"&&_.getChild(jw(f)).isEmpty()?g=_:g=_.updateChild(f,r):g=Q.EMPTY_NODE}if(h.equals(g))c=t;else{let _=e.filter.updateChild(a.getNode(),d,g,f,u,s);c=$o(t,_,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function aw(e,t){return e.eventCache.isCompleteForChild(t)}function kO(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=le(n,c);aw(t,F(u))&&(a=Hh(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=le(n,c);aw(t,F(u))||(a=Hh(e,a,u,l,i,o,s))}),a}function cw(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Wh(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;O(n)?l=r:l=new Se(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),g=cw(e,h,f);c=xc(e,c,new q(d),g,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=t.serverCache.getNode().getImmediateChild(d),_=cw(e,g,f);c=xc(e,c,new q(d),_,i,o,s,a)}}),c}function LO(e,t,n,r,i,o,s){if(Rc(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(O(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return xc(e,t,n,c.getNode().getChild(n),i,o,a,s);if(O(n)){let l=new Se(null);return c.getNode().forEachChild(si,(u,d)=>{l=l.set(new q(u),d)}),Wh(e,t,n,l,i,o,a,s)}else return t}else{let l=new Se(null);return r.foreach((u,d)=>{let f=le(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Wh(e,t,n,l,i,o,a,s)}}function FO(e,t,n,r,i){let o=t.serverCache,s=Zw(t,o.getNode(),o.isFullyInitialized()||O(n),o.isFiltered());return oE(e,s,n,r,iE,i)}function jO(e,t,n,r,i,o){let s;if(Rc(r,n)!=null)return t;{let a=new Wo(r,t,i),c=t.eventCache.getNode(),l;if(O(n)||F(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Vh(r,Kn(t));else{let d=t.serverCache.getNode();v(d instanceof Q,"serverChildren would be complete if leaf node"),u=tE(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=F(n),d=ip(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,K(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,Q.EMPTY_NODE,K(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Vh(r,Kn(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||Rc(r,z())!=null,$o(t,l,s,e.filter.filtersNodes())}}function UO(e,t){let n=Kn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!O(t)&&!n.getImmediateChild(F(t)).isEmpty())?n.getChild(t):null}function lw(e,t,n,r){t.type===Ut.MERGE&&t.source.queryId!==null&&(v(Kn(e.viewCache_),"We should always have a full cache before handling merges"),v(Fh(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=OO(e.processor_,i,t,n,r);return xO(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,VO(e,o.changes,o.viewCache.eventCache.getNode(),null)}function VO(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return gO(e.eventGenerator_,t,n,i)}var uw;function $O(e){v(!uw,"__referenceConstructor has already been defined"),uw=e}function op(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return v(o!=null,"SyncTree gave us an op for an invalid query."),lw(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(lw(s,t,n,r));return o}}function sp(e,t){let n=null;for(let r of e.views.values())n=n||UO(r,t);return n}var dw;function BO(e){v(!dw,"__referenceConstructor has already been defined"),dw=e}var Oc=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Se(null),this.pendingWriteTree_=MO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function HO(e,t,n,r,i){return _O(e.pendingWriteTree_,t,n,r,i),i?kc(e,new di(Gw(),t,n)):[]}function ii(e,t,n=!1){let r=IO(e.pendingWriteTree_,t);if(wO(e.pendingWriteTree_,t)){let o=new Se(null);return r.snap!=null?o=o.set(z(),!0):ze(r.children,s=>{o=o.set(new q(s),!0)}),kc(e,new Lh(r.path,o,n))}else return[]}function Pc(e,t,n){return kc(e,new di(qw(),t,n))}function WO(e,t,n){let r=Se.fromObject(n);return kc(e,new Mc(qw(),t,r))}function zO(e,t,n,r){let i=lE(e,r);if(i!=null){let o=uE(i),s=o.path,a=o.queryId,c=He(s,t),l=new di(Yw(a),c,n);return dE(e,s,l)}else return[]}function GO(e,t,n,r){let i=lE(e,r);if(i){let o=uE(i),s=o.path,a=o.queryId,c=He(s,t),l=Se.fromObject(n),u=new Mc(Yw(a),c,l);return dE(e,s,u)}else return[]}function sE(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=He(s,t),l=sp(a,c);if(l)return l});return eE(i,t,o,n,!0)}function kc(e,t){return aE(t,e.syncPointTree_,null,Jw(e.pendingWriteTree_,z()))}function aE(e,t,n,r){if(O(e.path))return cE(e,t,n,r);{let i=t.get(z());n==null&&i!=null&&(n=sp(i,z()));let o=[],s=F(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=nE(r,s);o=o.concat(aE(a,c,l,u))}return i&&(o=o.concat(op(i,e,r,n))),o}}function cE(e,t,n,r){let i=t.get(z());n==null&&i!=null&&(n=sp(i,z()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=nE(r,s),u=e.operationForChild(s);u&&(o=o.concat(cE(u,a,c,l)))}),i&&(o=o.concat(op(i,e,r,n))),o}function lE(e,t){return e.tagToQueryMap.get(t)}function uE(e){let t=e.indexOf("$");return v(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new q(e.substr(0,t))}}function dE(e,t,n){let r=e.syncPointTree_.get(t);v(r,"Missing sync point for query tag that we're tracking");let i=Jw(e.pendingWriteTree_,t);return op(r,n,i,null)}var zh=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},Gh=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=le(this.path_,t);return new e(this.syncTree_,n)}node(){return sE(this.syncTree_,this.path_)}},qO=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},fw=function(e,t,n){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return YO(e[".sv"],t,n);if(typeof e[".sv"]=="object")return KO(e[".sv"],t);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},YO=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+e)}},KO=function(e,t,n){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&v(!1,"Unexpected increment value: "+r);let i=t.node();if(v(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},ZO=function(e,t,n,r){return ap(t,new Gh(n,e),r)},QO=function(e,t,n){return ap(e,new zh(t),n)};function ap(e,t,n){let r=e.getPriority().val(),i=fw(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=fw(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new li(a,he(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new li(i))),s.forEachChild(pe,(a,c)=>{let l=ap(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var zo=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function cp(e,t){let n=t instanceof q?t:new q(t),r=e,i=F(n);for(;i!==null;){let o=kn(r.node.children,i)||{children:{},childCount:0};r=new zo(i,r,o),n=K(n),i=F(n)}return r}function gi(e){return e.node.value}function fE(e,t){e.node.value=t,qh(e)}function hE(e){return e.node.childCount>0}function JO(e){return gi(e)===void 0&&!hE(e)}function Lc(e,t){ze(e.node.children,(n,r)=>{t(new zo(n,e,r))})}function pE(e,t,n,r){n&&!r&&t(e),Lc(e,i=>{pE(i,t,!0,r)}),n&&r&&t(e)}function XO(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Zo(e){return new q(e.parent===null?e.name:Zo(e.parent)+"/"+e.name)}function qh(e){e.parent!==null&&eP(e.parent,e.name,e)}function eP(e,t,n){let r=JO(n),i=pt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,qh(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,qh(e))}var tP=/[\[\].#$\/\u0000-\u001F\u007F]/,nP=/[\[\].#$\u0000-\u001F\u007F]/,ah=10*1024*1024,gE=function(e){return typeof e=="string"&&e.length!==0&&!tP.test(e)},rP=function(e){return typeof e=="string"&&e.length!==0&&!nP.test(e)},iP=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),rP(e)};var mE=function(e,t,n){let r=n instanceof q?new wh(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+zn(r));if(typeof t=="function")throw new Error(e+"contains a function "+zn(r)+" with contents = "+t.toString());if(yw(t))throw new Error(e+"contains "+t.toString()+" "+zn(r));if(typeof t=="string"&&t.length>ah/3&&Io(t)>ah)throw new Error(e+"contains a string greater than "+ah+" utf8 bytes "+zn(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(ze(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!gE(s)))throw new Error(e+" contains an invalid key ("+s+") "+zn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Kx(r,s),mE(e,a,r),Zx(r)}),i&&o)throw new Error(e+' contains ".value" child '+zn(r)+" in addition to actual children.")}};var oP=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!gE(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iP(n))throw new Error(A_(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Yh=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function sP(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!Uw(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Qn(e,t,n){sP(e,n),aP(e,r=>nt(r,t)||nt(t,r))}function aP(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(cP(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function cP(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();qn&&fe("event: "+n.toString()),Yo(r)}}}var lP="repo_interrupt",uP=25,Kh=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Nc(),this.transactionQueueTree_=new zo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function dP(e,t,n){if(e.stats_=tp(e.repoInfo_),e.forceRestClient_||Dx())e.server_=new Rh(e.repoInfo_,(r,i,o,s)=>{hw(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>pw(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ce(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new np(e.repoInfo_,t,(r,i,o,s)=>{hw(e,r,i,o,s)},r=>{pw(e,r)},r=>{hP(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Sx(e.repoInfo_,()=>new kh(e.stats_,e.server_)),e.infoData_=new xh,e.infoSyncTree_=new Oc({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Pc(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),lp(e,"connected",!1),e.serverSyncTree_=new Oc({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Qn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function fP(e){let n=e.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vE(e){return qO({timestamp:fP(e)})}function hw(e,t,n,r,i){e.dataUpdateCount++;let o=new q(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=_o(n,l=>he(l));s=GO(e.serverSyncTree_,o,c,i)}else{let c=he(n);s=zO(e.serverSyncTree_,o,c,i)}else if(r){let c=_o(n,l=>he(l));s=WO(e.serverSyncTree_,o,c)}else{let c=he(n);s=Pc(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=dp(e,o)),Qn(e.eventQueue_,a,s)}function pw(e,t){lp(e,"connected",t),t===!1&&gP(e)}function hP(e,t){ze(t,(n,r)=>{lp(e,n,r)})}function lp(e,t,n){let r=new q("/.info/"+t),i=he(n);e.infoData_.updateSnapshot(r,i);let o=Pc(e.infoSyncTree_,r,i);Qn(e.eventQueue_,r,o)}function pP(e){return e.nextWriteId_++}function gP(e){yE(e,"onDisconnectEvents");let t=vE(e),n=Nc();Oh(e.onDisconnect_,z(),(i,o)=>{let s=ZO(i,o,e.serverSyncTree_,t);zw(n,i,s)});let r=[];Oh(n,z(),(i,o)=>{r=r.concat(Pc(e.serverSyncTree_,i,o));let s=_P(e,i);dp(e,s)}),e.onDisconnect_=Nc(),Qn(e.eventQueue_,z(),r)}function mP(e){e.persistentConnection_&&e.persistentConnection_.interrupt(lP)}function yE(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),fe(n,...t)}function _E(e,t,n){return sE(e.serverSyncTree_,t,n)||Q.EMPTY_NODE}function up(e,t=e.transactionQueueTree_){if(t||Fc(e,t),gi(t)){let n=wE(e,t);v(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&vP(e,Zo(t),n)}else hE(t)&&Lc(t,n=>{up(e,n)})}function vP(e,t,n){let r=n.map(l=>l.currentWriteId),i=_E(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=He(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{yE(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ii(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Fc(e,cp(e.transactionQueueTree_,t)),up(e,e.transactionQueueTree_),Qn(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Yo(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Pe("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}dp(e,t)}},s)}function dp(e,t){let n=IE(e,t),r=Zo(n),i=wE(e,n);return yP(e,i,r),r}function yP(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=He(n,c.path),u=!1,d;if(v(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(ii(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=uP)u=!0,d="maxretry",i=i.concat(ii(e.serverSyncTree_,c.currentWriteId,!0));else{let f=_E(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){mE("transaction failed: Data returned ",h,c.path);let g=he(h);typeof h=="object"&&h!=null&&pt(h,".priority")||(g=g.updatePriority(f.getPriority()));let A=c.currentWriteId,U=vE(e),Z=QO(g,f,U);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=Z,c.currentWriteId=pP(e),s.splice(s.indexOf(A),1),i=i.concat(HO(e.serverSyncTree_,c.path,Z,c.currentWriteId,c.applyLocally)),i=i.concat(ii(e.serverSyncTree_,A,!0))}else u=!0,d="nodata",i=i.concat(ii(e.serverSyncTree_,c.currentWriteId,!0))}Qn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Fc(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Yo(r[a]);up(e,e.transactionQueueTree_)}function IE(e,t){let n,r=e.transactionQueueTree_;for(n=F(t);n!==null&&gi(r)===void 0;)r=cp(r,n),t=K(t),n=F(t);return r}function wE(e,t){let n=[];return EE(e,t,n),n.sort((r,i)=>r.order-i.order),n}function EE(e,t,n){let r=gi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Lc(t,i=>{EE(e,i,n)})}function Fc(e,t){let n=gi(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,fE(t,n.length>0?n:void 0)}Lc(t,r=>{Fc(e,r)})}function _P(e,t){let n=Zo(IE(e,t)),r=cp(e.transactionQueueTree_,t);return XO(r,i=>{ch(e,i)}),ch(e,r),pE(r,i=>{ch(e,i)}),n}function ch(e,t){let n=gi(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ii(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?fE(t,void 0):n.length=o+1,Qn(e.eventQueue_,Zo(t),i);for(let s=0;s<r.length;s++)Yo(r[s])}}function IP(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function wP(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pe(`Invalid query segment '${n}' in query '${e}'`)}return t}var gw=function(e,t){let n=EP(e),r=n.namespace;n.domain==="firebase.com"&&Vt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mx();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ec(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new q(n.pathString)}},EP=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=IP(e.substring(u,d)));let f=wP(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Zh=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return O(this._path)?null:Lw(this._path)}get ref(){return new hi(this._repo,this._path)}get _queryIdentifier(){let t=tw(this._queryParams),n=ep(t);return n==="{}"?"default":n}get _queryObject(){return tw(this._queryParams)}isEqual(t){if(t=gt(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=Uw(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Yx(this._path)}};var hi=class e extends Zh{constructor(t,n){super(t,n,new Mh,!1)}get parent(){let t=jw(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}};$O(hi);BO(hi);var CP="FIREBASE_DATABASE_EMULATOR_HOST",Qh={},DP=!1;function bP(e,t,n,r){e.repoInfo_=new Ec(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function SP(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Vt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fe("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=gw(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[CP]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=gw(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Vo(Vo.OWNER):new ph(e.name,e.options,t);oP("Invalid Firebase Database URL",s),O(s.path)||Vt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=AP(a,e,u,new hh(e.name,n));return new Jh(d,e)}function TP(e,t){let n=Qh[t];(!n||n[e.key]!==e)&&Vt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),mP(e),delete n[e.key]}function AP(e,t,n,r){let i=Qh[t.name];i||(i={},Qh[t.name]=i);let o=i[e.toURLString()];return o&&Vt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Kh(e,DP,n,r),i[e.toURLString()]=o,o}var Jh=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hi(this._repo,z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Vt("Cannot call "+t+" on a deleted database.")}};function CE(e=Kr(),t){let n=Do(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=v_("database");r&&DE(n,...r)}return n}function DE(e,t,n,r={}){e=gt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Vt("Cannot call useEmulator() after instance has already been initialized.");let i=e._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Vt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Vo(Vo.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:y_(r.mockUserToken,e.app.options.projectId);o=new Vo(s)}bP(i,t,n,o)}function NP(e){hx(an),sn(new Be("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return SP(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ie(FI,jI,e),ie(FI,jI,"esm2017")}np.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};np.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};NP();var Qo=class{constructor(t){return t}},bE="database",fp=class{constructor(){return bo(bE)}};var hp=new I("angularfire2.database-instances");function MP(e,t){let n=tc(bE,e,t);return n&&new Qo(n)}function RP(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new Qo(r)}}var xP={provide:fp,deps:[[new Ie,hp]]},OP={provide:Qo,useFactory:MP,deps:[[new Ie,hp],Lt]};function SE(e,...t){return ie("angularfire",Un.full,"rtdb"),Xt([OP,xP,{provide:hp,useFactory:RP(e),multi:!0,deps:[L,se,Jr,Vn,[new Ie,Oo],[new Ie,Qr],...t]}])}var TE=Xr(CE,!0);var AE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Qe({type:e,bootstrap:[f_]})}static{this.\u0275inj=Ze({providers:[W_(()=>z_({projectId:"e-potager",appId:"1:655590651191:web:c1e918647ee650a08f96b2",databaseURL:"https://e-potager-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"e-potager.firebasestorage.app",apiKey:"AIzaSyAq8noe3P5wu6BMWRnQG3yA4Wf2RLM_Ebk",authDomain:"e-potager.firebaseapp.com",messagingSenderId:"655590651191"})),kI(()=>LI()),SE(()=>TE())],imports:[yy,d_]})}}return e})();vy().bootstrapModule(AE,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
